{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Dell/Desktop/divinity-scarfs/components/Lenis.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect } from \"react\";\r\nimport Lenis from \"@studio-freight/lenis\";\r\n\r\nlet lenis: Lenis;\r\n\r\nexport function scrollTo(id: string) {\r\n  if (!lenis) return;\r\n  const el = document.getElementById(id);\r\n  if (el) lenis.scrollTo(el);\r\n}\r\n\r\nexport default function LenisProvider() {\r\n  useEffect(() => {\r\n    lenis = new Lenis({\r\n      duration: 1.2,\r\n      easing: (t: number) => t,\r\n      orientation: \"vertical\",\r\n      smoothWheel: true,\r\n      //   smoothTouch: true,\r\n    });\r\n\r\n    const raf = (time: number) => {\r\n      lenis.raf(time);\r\n      requestAnimationFrame(raf);\r\n    };\r\n\r\n    requestAnimationFrame(raf);\r\n  }, []);\r\n\r\n  return null;\r\n}\r\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AAHA;;;AAKA,IAAI;AAEG,SAAS,SAAS,EAAU;IACjC,IAAI,CAAC,OAAO;IACZ,MAAM,KAAK,SAAS,cAAc,CAAC;IACnC,IAAI,IAAI,MAAM,QAAQ,CAAC;AACzB;AAEe,SAAS;IACtB,IAAA,mPAAS,EAAC;QACR,QAAQ,IAAI,0MAAK,CAAC;YAChB,UAAU;YACV,QAAQ,CAAC,IAAc;YACvB,aAAa;YACb,aAAa;QAEf;QAEA,MAAM,MAAM,CAAC;YACX,MAAM,GAAG,CAAC;YACV,sBAAsB;QACxB;QAEA,sBAAsB;IACxB,GAAG,EAAE;IAEL,OAAO;AACT","debugId":null}},
    {"offset": {"line": 47, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Dell/Desktop/divinity-scarfs/components/Barba.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect } from \"react\";\r\nimport barba from \"@barba/core\";\r\n\r\nexport default function BarbaProvider() {\r\n  useEffect(() => {\r\n    (barba as any).init({\r\n      transitions: [\r\n        {\r\n          name: \"slide\",\r\n          leave({ current }: any) {\r\n            return current.container.animate(\r\n              [\r\n                { opacity: 1, transform: \"translateX(0)\" },\r\n                { opacity: 0, transform: \"translateX(-100px)\" },\r\n              ],\r\n              { duration: 500, easing: \"ease-in-out\" }\r\n            ).finished;\r\n          },\r\n          enter({ next }: any) {\r\n            return next.container.animate(\r\n              [\r\n                { opacity: 0, transform: \"translateX(100px)\" },\r\n                { opacity: 1, transform: \"translateX(0)\" },\r\n              ],\r\n              { duration: 500, easing: \"ease-in-out\" }\r\n            ).finished;\r\n          },\r\n        },\r\n      ],\r\n    });\r\n  }, []);\r\n\r\n  return null;\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;AAKe,SAAS;IACtB,IAAA,mPAAS,EAAC;QACP,6LAAK,CAAS,IAAI,CAAC;YAClB,aAAa;gBACX;oBACE,MAAM;oBACN,OAAM,EAAE,OAAO,EAAO;wBACpB,OAAO,QAAQ,SAAS,CAAC,OAAO,CAC9B;4BACE;gCAAE,SAAS;gCAAG,WAAW;4BAAgB;4BACzC;gCAAE,SAAS;gCAAG,WAAW;4BAAqB;yBAC/C,EACD;4BAAE,UAAU;4BAAK,QAAQ;wBAAc,GACvC,QAAQ;oBACZ;oBACA,OAAM,EAAE,IAAI,EAAO;wBACjB,OAAO,KAAK,SAAS,CAAC,OAAO,CAC3B;4BACE;gCAAE,SAAS;gCAAG,WAAW;4BAAoB;4BAC7C;gCAAE,SAAS;gCAAG,WAAW;4BAAgB;yBAC1C,EACD;4BAAE,UAAU;4BAAK,QAAQ;wBAAc,GACvC,QAAQ;oBACZ;gBACF;aACD;QACH;IACF,GAAG,EAAE;IAEL,OAAO;AACT","debugId":null}},
    {"offset": {"line": 102, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Dell/Desktop/divinity-scarfs/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Dell/Desktop/divinity-scarfs/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,oJACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 126, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/Desktop/divinity-scarfs/node_modules/@studio-freight/lenis/dist/lenis.mjs","sources":["file:///C:/Users/Dell/Desktop/divinity-scarfs/node_modules/%40studio-freight/lenis/src/maths.js","file:///C:/Users/Dell/Desktop/divinity-scarfs/node_modules/%40studio-freight/lenis/src/animate.js","file:///C:/Users/Dell/Desktop/divinity-scarfs/node_modules/%40studio-freight/lenis/src/dimensions.js","file:///C:/Users/Dell/Desktop/divinity-scarfs/node_modules/%40studio-freight/lenis/src/debounce.js","file:///C:/Users/Dell/Desktop/divinity-scarfs/node_modules/%40studio-freight/lenis/src/emitter.js","file:///C:/Users/Dell/Desktop/divinity-scarfs/node_modules/%40studio-freight/lenis/src/virtual-scroll.js","file:///C:/Users/Dell/Desktop/divinity-scarfs/node_modules/%40studio-freight/src/index.ts"],"sourcesContent":["// Clamp a value between a minimum and maximum value\r\nexport function clamp(min, input, max) {\r\n  return Math.max(min, Math.min(input, max))\r\n}\r\n\r\n// Truncate a floating-point number to a specified number of decimal places\r\nexport function truncate(value, decimals = 0) {\r\n  return parseFloat(value.toFixed(decimals))\r\n}\r\n\r\n// Linearly interpolate between two values using an amount (0 <= t <= 1)\r\nexport function lerp(x, y, t) {\r\n  return (1 - t) * x + t * y\r\n}\r\n\r\n// http://www.rorydriscoll.com/2016/03/07/frame-rate-independent-damping-using-lerp/\r\nexport function damp(x, y, lambda, dt) {\r\n  return lerp(x, y, 1 - Math.exp(-lambda * dt))\r\n}\r\n\r\n// Calculate the modulo of the dividend and divisor while keeping the result within the same sign as the divisor\r\n// https://anguscroll.com/just/just-modulo\r\nexport function modulo(n, d) {\r\n  return ((n % d) + d) % d\r\n}\r\n","import { clamp, damp } from './maths'\r\n\r\n// Animate class to handle value animations with lerping or easing\r\nexport class Animate {\r\n  // Advance the animation by the given delta time\r\n  advance(deltaTime) {\r\n    if (!this.isRunning) return\r\n\r\n    let completed = false\r\n\r\n    if (this.lerp) {\r\n      this.value = damp(this.value, this.to, this.lerp * 60, deltaTime)\r\n      if (Math.round(this.value) === this.to) {\r\n        this.value = this.to\r\n        completed = true\r\n      }\r\n    } else {\r\n      this.currentTime += deltaTime\r\n      const linearProgress = clamp(0, this.currentTime / this.duration, 1)\r\n\r\n      completed = linearProgress >= 1\r\n      const easedProgress = completed ? 1 : this.easing(linearProgress)\r\n      this.value = this.from + (this.to - this.from) * easedProgress\r\n    }\r\n\r\n    // Call the onUpdate callback with the current value and completed status\r\n    this.onUpdate?.(this.value, completed)\r\n\r\n    if (completed) {\r\n      this.stop()\r\n    }\r\n  }\r\n\r\n  // Stop the animation\r\n  stop() {\r\n    this.isRunning = false\r\n  }\r\n\r\n  // Set up the animation from a starting value to an ending value\r\n  // with optional parameters for lerping, duration, easing, and onUpdate callback\r\n  fromTo(\r\n    from,\r\n    to,\r\n    { lerp = 0.1, duration = 1, easing = (t) => t, onStart, onUpdate }\r\n  ) {\r\n    this.from = this.value = from\r\n    this.to = to\r\n    this.lerp = lerp\r\n    this.duration = duration\r\n    this.easing = easing\r\n    this.currentTime = 0\r\n    this.isRunning = true\r\n\r\n    onStart?.()\r\n    this.onUpdate = onUpdate\r\n  }\r\n}\r\n","import { debounce } from './debounce'\r\n\r\nexport class Dimensions {\r\n  constructor({\r\n    wrapper,\r\n    content,\r\n    autoResize = true,\r\n    debounce: debounceValue = 250,\r\n  } = {}) {\r\n    this.wrapper = wrapper\r\n    this.content = content\r\n\r\n    if (autoResize) {\r\n      this.debouncedResize = debounce(this.resize, debounceValue)\r\n\r\n      if (this.wrapper === window) {\r\n        window.addEventListener('resize', this.debouncedResize, false)\r\n      } else {\r\n        this.wrapperResizeObserver = new ResizeObserver(this.debouncedResize)\r\n        this.wrapperResizeObserver.observe(this.wrapper)\r\n      }\r\n\r\n      this.contentResizeObserver = new ResizeObserver(this.debouncedResize)\r\n      this.contentResizeObserver.observe(this.content)\r\n    }\r\n\r\n    this.resize()\r\n  }\r\n\r\n  destroy() {\r\n    this.wrapperResizeObserver?.disconnect()\r\n    this.contentResizeObserver?.disconnect()\r\n    window.removeEventListener('resize', this.debouncedResize, false)\r\n  }\r\n\r\n  resize = () => {\r\n    this.onWrapperResize()\r\n    this.onContentResize()\r\n  }\r\n\r\n  onWrapperResize = () => {\r\n    if (this.wrapper === window) {\r\n      this.width = window.innerWidth\r\n      this.height = window.innerHeight\r\n    } else {\r\n      this.width = this.wrapper.clientWidth\r\n      this.height = this.wrapper.clientHeight\r\n    }\r\n  }\r\n\r\n  onContentResize = () => {\r\n    if (this.wrapper === window) {\r\n      this.scrollHeight = this.content.scrollHeight\r\n      this.scrollWidth = this.content.scrollWidth\r\n    } else {\r\n      this.scrollHeight = this.wrapper.scrollHeight\r\n      this.scrollWidth = this.wrapper.scrollWidth\r\n    }\r\n  }\r\n\r\n  get limit() {\r\n    return {\r\n      x: this.scrollWidth - this.width,\r\n      y: this.scrollHeight - this.height,\r\n    }\r\n  }\r\n}\r\n","export function debounce(callback, delay) {\r\n  let timer\r\n  return function () {\r\n    let args = arguments\r\n    let context = this\r\n    clearTimeout(timer)\r\n    timer = setTimeout(function () {\r\n      callback.apply(context, args)\r\n    }, delay)\r\n  }\r\n}\r\n","export class Emitter {\r\n  constructor() {\r\n    this.events = {}\r\n  }\r\n\r\n  emit(event, ...args) {\r\n    let callbacks = this.events[event] || []\r\n    for (let i = 0, length = callbacks.length; i < length; i++) {\r\n      callbacks[i](...args)\r\n    }\r\n  }\r\n\r\n  on(event, cb) {\r\n    // Add the callback to the event's callback list, or create a new list with the callback\r\n    this.events[event]?.push(cb) || (this.events[event] = [cb])\r\n\r\n    // Return an unsubscribe function\r\n    return () => {\r\n      this.events[event] = this.events[event]?.filter((i) => cb !== i)\r\n    }\r\n  }\r\n\r\n  off(event, callback) {\r\n    this.events[event] = this.events[event]?.filter((i) => callback !== i)\r\n  }\r\n\r\n  destroy() {\r\n    this.events = {}\r\n  }\r\n}\r\n","import { Emitter } from './emitter'\r\n\r\nconst LINE_HEIGHT = 100 / 6\r\n\r\nexport class VirtualScroll {\r\n  constructor(element, { wheelMultiplier = 1, touchMultiplier = 1 }) {\r\n    this.element = element\r\n    this.wheelMultiplier = wheelMultiplier\r\n    this.touchMultiplier = touchMultiplier\r\n\r\n    this.touchStart = {\r\n      x: null,\r\n      y: null,\r\n    }\r\n\r\n    this.emitter = new Emitter()\r\n    window.addEventListener('resize', this.onWindowResize, false)\r\n    this.onWindowResize()\r\n\r\n    this.element.addEventListener('wheel', this.onWheel, { passive: false })\r\n    this.element.addEventListener('touchstart', this.onTouchStart, {\r\n      passive: false,\r\n    })\r\n    this.element.addEventListener('touchmove', this.onTouchMove, {\r\n      passive: false,\r\n    })\r\n    this.element.addEventListener('touchend', this.onTouchEnd, {\r\n      passive: false,\r\n    })\r\n  }\r\n\r\n  // Add an event listener for the given event and callback\r\n  on(event, callback) {\r\n    return this.emitter.on(event, callback)\r\n  }\r\n\r\n  // Remove all event listeners and clean up\r\n  destroy() {\r\n    this.emitter.destroy()\r\n\r\n    window.removeEventListener('resize', this.onWindowResize, false)\r\n\r\n    this.element.removeEventListener('wheel', this.onWheel, {\r\n      passive: false,\r\n    })\r\n    this.element.removeEventListener('touchstart', this.onTouchStart, {\r\n      passive: false,\r\n    })\r\n    this.element.removeEventListener('touchmove', this.onTouchMove, {\r\n      passive: false,\r\n    })\r\n    this.element.removeEventListener('touchend', this.onTouchEnd, {\r\n      passive: false,\r\n    })\r\n  }\r\n\r\n  // Event handler for 'touchstart' event\r\n  onTouchStart = (event) => {\r\n    const { clientX, clientY } = event.targetTouches\r\n      ? event.targetTouches[0]\r\n      : event\r\n\r\n    this.touchStart.x = clientX\r\n    this.touchStart.y = clientY\r\n\r\n    this.lastDelta = {\r\n      x: 0,\r\n      y: 0,\r\n    }\r\n\r\n    this.emitter.emit('scroll', {\r\n      deltaX: 0,\r\n      deltaY: 0,\r\n      event,\r\n    })\r\n  }\r\n\r\n  // Event handler for 'touchmove' event\r\n  onTouchMove = (event) => {\r\n    const { clientX, clientY } = event.targetTouches\r\n      ? event.targetTouches[0]\r\n      : event\r\n\r\n    const deltaX = -(clientX - this.touchStart.x) * this.touchMultiplier\r\n    const deltaY = -(clientY - this.touchStart.y) * this.touchMultiplier\r\n\r\n    this.touchStart.x = clientX\r\n    this.touchStart.y = clientY\r\n\r\n    this.lastDelta = {\r\n      x: deltaX,\r\n      y: deltaY,\r\n    }\r\n\r\n    this.emitter.emit('scroll', {\r\n      deltaX,\r\n      deltaY,\r\n      event,\r\n    })\r\n  }\r\n\r\n  onTouchEnd = (event) => {\r\n    this.emitter.emit('scroll', {\r\n      deltaX: this.lastDelta.x,\r\n      deltaY: this.lastDelta.y,\r\n      event,\r\n    })\r\n  }\r\n\r\n  // Event handler for 'wheel' event\r\n  onWheel = (event) => {\r\n    let { deltaX, deltaY, deltaMode } = event\r\n\r\n    const multiplierX =\r\n      deltaMode === 1 ? LINE_HEIGHT : deltaMode === 2 ? this.windowWidth : 1\r\n    const multiplierY =\r\n      deltaMode === 1 ? LINE_HEIGHT : deltaMode === 2 ? this.windowHeight : 1\r\n\r\n    deltaX *= multiplierX\r\n    deltaY *= multiplierY\r\n\r\n    deltaX *= this.wheelMultiplier\r\n    deltaY *= this.wheelMultiplier\r\n\r\n    this.emitter.emit('scroll', { deltaX, deltaY, event })\r\n  }\r\n\r\n  onWindowResize = () => {\r\n    this.windowWidth = window.innerWidth\r\n    this.windowHeight = window.innerHeight\r\n  }\r\n}\r\n","import { version } from '../package.json'\r\nimport { Animate } from './animate'\r\nimport { Dimensions } from './dimensions'\r\nimport { Emitter } from './emitter'\r\nimport { clamp, modulo } from './maths'\r\nimport { VirtualScroll } from './virtual-scroll'\r\n\r\n// Technical explanation\r\n// - listen to 'wheel' events\r\n// - prevent 'wheel' event to prevent scroll\r\n// - normalize wheel delta\r\n// - add delta to targetScroll\r\n// - animate scroll to targetScroll (smooth context)\r\n// - if animation is not running, listen to 'scroll' events (native context)\r\n\r\ntype EasingFunction = (t: number) => number\r\ntype Orientation = 'vertical' | 'horizontal'\r\ntype GestureOrientation = 'vertical' | 'horizontal' | 'both'\r\n\r\nexport type LenisOptions = {\r\n  wrapper?: Window | HTMLElement\r\n  content?: HTMLElement\r\n  wheelEventsTarget?: Window | HTMLElement\r\n  eventsTarget?: Window | HTMLElement\r\n  smoothWheel?: boolean\r\n  syncTouch?: boolean\r\n  syncTouchLerp?: number\r\n  touchInertiaMultiplier?: number\r\n  duration?: number\r\n  easing?: EasingFunction\r\n  lerp?: number\r\n  infinite?: boolean\r\n  orientation?: Orientation\r\n  gestureOrientation?: GestureOrientation\r\n  touchMultiplier?: number\r\n  wheelMultiplier?: number\r\n  autoResize?: boolean\r\n  __experimental__naiveDimensions?: boolean\r\n}\r\n\r\nexport default class Lenis {\r\n  __isSmooth: boolean = false // true if scroll should be animated\r\n  __isScrolling: boolean = false // true when scroll is animating\r\n  __isStopped: boolean = false // true if user should not be able to scroll - enable/disable programmatically\r\n  __isLocked: boolean = false // same as isStopped but enabled/disabled when scroll reaches target\r\n\r\n  constructor({\r\n    wrapper = window,\r\n    content = document.documentElement,\r\n    wheelEventsTarget = wrapper, // deprecated\r\n    eventsTarget = wheelEventsTarget,\r\n    smoothWheel = true,\r\n    syncTouch = false,\r\n    syncTouchLerp = 0.075,\r\n    touchInertiaMultiplier = 35,\r\n    duration, // in seconds\r\n    easing = (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\r\n    lerp = !duration && 0.1,\r\n    infinite = false,\r\n    orientation = 'vertical', // vertical, horizontal\r\n    gestureOrientation = 'vertical', // vertical, horizontal, both\r\n    touchMultiplier = 1,\r\n    wheelMultiplier = 1,\r\n    autoResize = true,\r\n    __experimental__naiveDimensions = false,\r\n  }: LenisOptions = {}) {\r\n    window.lenisVersion = version\r\n\r\n    // if wrapper is html or body, fallback to window\r\n    if (wrapper === document.documentElement || wrapper === document.body) {\r\n      wrapper = window\r\n    }\r\n\r\n    this.options = {\r\n      wrapper,\r\n      content,\r\n      wheelEventsTarget,\r\n      eventsTarget,\r\n      smoothWheel,\r\n      syncTouch,\r\n      syncTouchLerp,\r\n      touchInertiaMultiplier,\r\n      duration,\r\n      easing,\r\n      lerp,\r\n      infinite,\r\n      gestureOrientation,\r\n      orientation,\r\n      touchMultiplier,\r\n      wheelMultiplier,\r\n      autoResize,\r\n      __experimental__naiveDimensions,\r\n    }\r\n\r\n    this.animate = new Animate()\r\n    this.emitter = new Emitter()\r\n    this.dimensions = new Dimensions({ wrapper, content, autoResize })\r\n    this.toggleClassName('lenis', true)\r\n\r\n    this.velocity = 0\r\n    this.isLocked = false\r\n    this.isStopped = false\r\n    this.isSmooth = syncTouch || smoothWheel\r\n    this.isScrolling = false\r\n    this.targetScroll = this.animatedScroll = this.actualScroll\r\n\r\n    this.options.wrapper.addEventListener('scroll', this.onNativeScroll, false)\r\n\r\n    this.virtualScroll = new VirtualScroll(eventsTarget, {\r\n      touchMultiplier,\r\n      wheelMultiplier,\r\n    })\r\n    this.virtualScroll.on('scroll', this.onVirtualScroll)\r\n  }\r\n\r\n  destroy() {\r\n    this.emitter.destroy()\r\n\r\n    this.options.wrapper.removeEventListener(\r\n      'scroll',\r\n      this.onNativeScroll,\r\n      false\r\n    )\r\n\r\n    this.virtualScroll.destroy()\r\n    this.dimensions.destroy()\r\n\r\n    this.toggleClassName('lenis', false)\r\n    this.toggleClassName('lenis-smooth', false)\r\n    this.toggleClassName('lenis-scrolling', false)\r\n    this.toggleClassName('lenis-stopped', false)\r\n    this.toggleClassName('lenis-locked', false)\r\n  }\r\n\r\n  on(event: string, callback: Function) {\r\n    return this.emitter.on(event, callback)\r\n  }\r\n\r\n  off(event: string, callback: Function) {\r\n    return this.emitter.off(event, callback)\r\n  }\r\n\r\n  private setScroll(scroll) {\r\n    // apply scroll value immediately\r\n    if (this.isHorizontal) {\r\n      this.rootElement.scrollLeft = scroll\r\n    } else {\r\n      this.rootElement.scrollTop = scroll\r\n    }\r\n  }\r\n\r\n  private onVirtualScroll = ({ deltaX, deltaY, event }) => {\r\n    // keep zoom feature\r\n    if (event.ctrlKey) return\r\n\r\n    const isTouch = event.type.includes('touch')\r\n    const isWheel = event.type.includes('wheel')\r\n\r\n    const isTapToStop =\r\n      this.options.syncTouch &&\r\n      isTouch &&\r\n      event.type === 'touchstart' &&\r\n      !this.isStopped &&\r\n      !this.isLocked\r\n\r\n    if (isTapToStop) {\r\n      this.reset()\r\n      return\r\n    }\r\n\r\n    const isClick = deltaX === 0 && deltaY === 0 // click event\r\n\r\n    // const isPullToRefresh =\r\n    //   this.options.gestureOrientation === 'vertical' &&\r\n    //   this.scroll === 0 &&\r\n    //   !this.options.infinite &&\r\n    //   deltaY <= 5 // touch pull to refresh, not reliable yet\r\n\r\n    const isUnknownGesture =\r\n      (this.options.gestureOrientation === 'vertical' && deltaY === 0) ||\r\n      (this.options.gestureOrientation === 'horizontal' && deltaX === 0)\r\n\r\n    if (isClick || isUnknownGesture) {\r\n      // console.log('prevent')\r\n      return\r\n    }\r\n\r\n    // catch if scrolling on nested scroll elements\r\n    let composedPath = event.composedPath()\r\n    composedPath = composedPath.slice(0, composedPath.indexOf(this.rootElement)) // remove parents elements\r\n\r\n    if (\r\n      !!composedPath.find(\r\n        (node) =>\r\n          node.hasAttribute?.('data-lenis-prevent') ||\r\n          (isTouch && node.hasAttribute?.('data-lenis-prevent-touch')) ||\r\n          (isWheel && node.hasAttribute?.('data-lenis-prevent-wheel')) ||\r\n          (node.classList?.contains('lenis') &&\r\n            !node.classList?.contains('lenis-stopped')) // nested lenis instance\r\n      )\r\n    )\r\n      return\r\n\r\n    if (this.isStopped || this.isLocked) {\r\n      event.preventDefault() // this will stop forwarding the event to the parent, this is problematic\r\n      return\r\n    }\r\n\r\n    this.isSmooth =\r\n      (this.options.syncTouch && isTouch) ||\r\n      (this.options.smoothWheel && isWheel)\r\n\r\n    if (!this.isSmooth) {\r\n      this.isScrolling = false\r\n      this.animate.stop()\r\n      return\r\n    }\r\n\r\n    event.preventDefault()\r\n\r\n    let delta = deltaY\r\n    if (this.options.gestureOrientation === 'both') {\r\n      delta = Math.abs(deltaY) > Math.abs(deltaX) ? deltaY : deltaX\r\n    } else if (this.options.gestureOrientation === 'horizontal') {\r\n      delta = deltaX\r\n    }\r\n\r\n    const syncTouch = isTouch && this.options.syncTouch\r\n    const isTouchEnd = isTouch && event.type === 'touchend'\r\n\r\n    const hasTouchInertia = isTouchEnd && Math.abs(delta) > 5\r\n\r\n    if (hasTouchInertia) {\r\n      delta = this.velocity * this.options.touchInertiaMultiplier\r\n    }\r\n\r\n    this.scrollTo(this.targetScroll + delta, {\r\n      programmatic: false,\r\n      ...(syncTouch\r\n        ? {\r\n            lerp: hasTouchInertia ? this.options.syncTouchLerp : 1,\r\n          }\r\n        : {\r\n            lerp: this.options.lerp,\r\n            duration: this.options.duration,\r\n            easing: this.options.easing,\r\n          }),\r\n    })\r\n  }\r\n\r\n  resize() {\r\n    this.dimensions.resize()\r\n  }\r\n\r\n  private emit() {\r\n    this.emitter.emit('scroll', this)\r\n  }\r\n\r\n  private onNativeScroll = () => {\r\n    if (this.__preventNextScrollEvent) return\r\n\r\n    if (!this.isScrolling) {\r\n      const lastScroll = this.animatedScroll\r\n      this.animatedScroll = this.targetScroll = this.actualScroll\r\n      this.velocity = 0\r\n      this.direction = Math.sign(this.animatedScroll - lastScroll)\r\n      this.emit()\r\n    }\r\n  }\r\n\r\n  private reset() {\r\n    this.isLocked = false\r\n    this.isScrolling = false\r\n    this.animatedScroll = this.targetScroll = this.actualScroll\r\n    this.velocity = 0\r\n    this.animate.stop()\r\n  }\r\n\r\n  start() {\r\n    if (!this.isStopped) return\r\n    this.isStopped = false\r\n\r\n    this.reset()\r\n  }\r\n\r\n  stop() {\r\n    if (this.isStopped) return\r\n    this.isStopped = true\r\n    this.animate.stop()\r\n\r\n    this.reset()\r\n  }\r\n\r\n  raf(time: number) {\r\n    const deltaTime = time - (this.time || time)\r\n    this.time = time\r\n\r\n    this.animate.advance(deltaTime * 0.001)\r\n  }\r\n\r\n  scrollTo(\r\n    target: number | string | HTMLElement,\r\n    {\r\n      offset = 0,\r\n      immediate = false,\r\n      lock = false,\r\n      duration = this.options.duration,\r\n      easing = this.options.easing,\r\n      lerp = !duration && this.options.lerp,\r\n      onComplete,\r\n      force = false, // scroll even if stopped\r\n      programmatic = true, // called from outside of the class\r\n    }: {\r\n      offset?: number\r\n      immediate?: boolean\r\n      lock?: boolean\r\n      duration?: number\r\n      easing?: EasingFunction\r\n      lerp?: number\r\n      onComplete?: (lenis: Lenis) => void\r\n      force?: boolean\r\n      programmatic?: boolean\r\n    } = {}\r\n  ) {\r\n    if ((this.isStopped || this.isLocked) && !force) return\r\n\r\n    // keywords\r\n    if (['top', 'left', 'start'].includes(target)) {\r\n      target = 0\r\n    } else if (['bottom', 'right', 'end'].includes(target)) {\r\n      target = this.limit\r\n    } else {\r\n      let node\r\n\r\n      if (typeof target === 'string') {\r\n        // CSS selector\r\n        node = document.querySelector(target)\r\n      } else if (target?.nodeType) {\r\n        // Node element\r\n        node = target\r\n      }\r\n\r\n      if (node) {\r\n        if (this.options.wrapper !== window) {\r\n          // nested scroll offset correction\r\n          const wrapperRect = this.options.wrapper.getBoundingClientRect()\r\n          offset -= this.isHorizontal ? wrapperRect.left : wrapperRect.top\r\n        }\r\n\r\n        const rect = node.getBoundingClientRect()\r\n\r\n        target =\r\n          (this.isHorizontal ? rect.left : rect.top) + this.animatedScroll\r\n      }\r\n    }\r\n\r\n    if (typeof target !== 'number') return\r\n\r\n    target += offset\r\n    target = Math.round(target)\r\n\r\n    if (this.options.infinite) {\r\n      if (programmatic) {\r\n        this.targetScroll = this.animatedScroll = this.scroll\r\n      }\r\n    } else {\r\n      target = clamp(0, target, this.limit)\r\n    }\r\n\r\n    if (immediate) {\r\n      this.animatedScroll = this.targetScroll = target\r\n      this.setScroll(this.scroll)\r\n      this.reset()\r\n      onComplete?.(this)\r\n      return\r\n    }\r\n\r\n    if (!programmatic) {\r\n      if (target === this.targetScroll) return\r\n\r\n      this.targetScroll = target\r\n    }\r\n\r\n    this.animate.fromTo(this.animatedScroll, target, {\r\n      duration,\r\n      easing,\r\n      lerp,\r\n      onStart: () => {\r\n        // started\r\n        if (lock) this.isLocked = true\r\n        this.isScrolling = true\r\n      },\r\n      onUpdate: (value: number, completed: boolean) => {\r\n        this.isScrolling = true\r\n\r\n        // updated\r\n        this.velocity = value - this.animatedScroll\r\n        this.direction = Math.sign(this.velocity)\r\n\r\n        this.animatedScroll = value\r\n        this.setScroll(this.scroll)\r\n\r\n        if (programmatic) {\r\n          // wheel during programmatic should stop it\r\n          this.targetScroll = value\r\n        }\r\n\r\n        if (!completed) this.emit()\r\n\r\n        if (completed) {\r\n          this.reset()\r\n          this.emit()\r\n          onComplete?.(this)\r\n\r\n          // avoid emitting event twice\r\n          this.__preventNextScrollEvent = true\r\n          requestAnimationFrame(() => {\r\n            delete this.__preventNextScrollEvent\r\n          })\r\n        }\r\n      },\r\n    })\r\n  }\r\n\r\n  get rootElement() {\r\n    return this.options.wrapper === window\r\n      ? document.documentElement\r\n      : this.options.wrapper\r\n  }\r\n\r\n  get limit() {\r\n    if (this.options.__experimental__naiveDimensions) {\r\n      if (this.isHorizontal) {\r\n        return this.rootElement.scrollWidth - this.rootElement.clientWidth\r\n      } else {\r\n        return this.rootElement.scrollHeight - this.rootElement.clientHeight\r\n      }\r\n    } else {\r\n      return this.dimensions.limit[this.isHorizontal ? 'x' : 'y']\r\n    }\r\n  }\r\n\r\n  get isHorizontal() {\r\n    return this.options.orientation === 'horizontal'\r\n  }\r\n\r\n  get actualScroll() {\r\n    // value browser takes into account\r\n    return this.isHorizontal\r\n      ? this.rootElement.scrollLeft\r\n      : this.rootElement.scrollTop\r\n  }\r\n\r\n  get scroll() {\r\n    return this.options.infinite\r\n      ? modulo(this.animatedScroll, this.limit)\r\n      : this.animatedScroll\r\n  }\r\n\r\n  get progress() {\r\n    // avoid progress to be NaN\r\n    return this.limit === 0 ? 1 : this.scroll / this.limit\r\n  }\r\n\r\n  get isSmooth() {\r\n    return this.__isSmooth\r\n  }\r\n\r\n  private set isSmooth(value: boolean) {\r\n    if (this.__isSmooth !== value) {\r\n      this.__isSmooth = value\r\n      this.toggleClassName('lenis-smooth', value)\r\n    }\r\n  }\r\n\r\n  get isScrolling() {\r\n    return this.__isScrolling\r\n  }\r\n\r\n  private set isScrolling(value: boolean) {\r\n    if (this.__isScrolling !== value) {\r\n      this.__isScrolling = value\r\n      this.toggleClassName('lenis-scrolling', value)\r\n    }\r\n  }\r\n\r\n  get isStopped() {\r\n    return this.__isStopped\r\n  }\r\n\r\n  private set isStopped(value: boolean) {\r\n    if (this.__isStopped !== value) {\r\n      this.__isStopped = value\r\n      this.toggleClassName('lenis-stopped', value)\r\n    }\r\n  }\r\n\r\n  get isLocked() {\r\n    return this.__isLocked\r\n  }\r\n\r\n  private set isLocked(value: boolean) {\r\n    if (this.__isLocked !== value) {\r\n      this.__isLocked = value\r\n      this.toggleClassName('lenis-locked', value)\r\n    }\r\n  }\r\n\r\n  get className() {\r\n    let className = 'lenis'\r\n    if (this.isStopped) className += ' lenis-stopped'\r\n    if (this.isLocked) className += ' lenis-locked'\r\n    if (this.isScrolling) className += ' lenis-scrolling'\r\n    if (this.isSmooth) className += ' lenis-smooth'\r\n    return className\r\n  }\r\n\r\n  private toggleClassName(name: string, value: boolean) {\r\n    this.rootElement.classList.toggle(name, value)\r\n    this.emitter.emit('className change', this)\r\n  }\r\n}\r\n"],"names":["clamp","min","input","max","Math","Animate","advance","deltaTime","this","isRunning","completed","lerp","value","x","y","to","lambda","dt","t","exp","round","currentTime","linearProgress","duration","easedProgress","easing","from","onUpdate","stop","fromTo","onStart","Dimensions","constructor","wrapper","content","autoResize","debounce","debounceValue","debouncedResize","callback","delay","timer","args","arguments","context","clearTimeout","setTimeout","apply","resize","window","addEventListener","wrapperResizeObserver","ResizeObserver","observe","contentResizeObserver","destroy","disconnect","removeEventListener","onWrapperResize","onContentResize","width","innerWidth","height","innerHeight","clientWidth","clientHeight","scrollHeight","scrollWidth","limit","Emitter","events","emit","event","callbacks","i","length","on","cb","push","filter","off","LINE_HEIGHT","VirtualScroll","element","wheelMultiplier","touchMultiplier","touchStart","emitter","onWindowResize","onWheel","passive","onTouchStart","onTouchMove","onTouchEnd","clientX","clientY","targetTouches","lastDelta","deltaX","deltaY","deltaMode","windowWidth","windowHeight","Lenis","document","documentElement","wheelEventsTarget","eventsTarget","smoothWheel","syncTouch","syncTouchLerp","touchInertiaMultiplier","pow","infinite","orientation","gestureOrientation","__experimental__naiveDimensions","__isSmooth","__isScrolling","__isStopped","__isLocked","onVirtualScroll","ctrlKey","isTouch","type","includes","isWheel","options","isStopped","isLocked","reset","isClick","isUnknownGesture","composedPath","slice","indexOf","rootElement","find","node","_a","hasAttribute","call","_b","_c","classList","_d","contains","_e","preventDefault","isSmooth","isScrolling","animate","delta","abs","hasTouchInertia","velocity","scrollTo","targetScroll","Object","assign","programmatic","onNativeScroll","__preventNextScrollEvent","lastScroll","animatedScroll","actualScroll","direction","sign","lenisVersion","body","dimensions","toggleClassName","virtualScroll","setScroll","scroll","isHorizontal","scrollLeft","scrollTop","start","raf","time","target","offset","immediate","lock","onComplete","force","querySelector","nodeType","wrapperRect","getBoundingClientRect","left","top","rect","requestAnimationFrame","n","d","progress","className","name","toggle"],"mappings":"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","debugId":null}},
    {"offset": {"line": 477, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/Desktop/divinity-scarfs/node_modules/@barba/core/dist/barba.mjs","sources":["file:///C:/Users/Dell/Desktop/divinity-scarfs/node_modules/%40barba/core/src/modules/Logger.ts","file:///C:/Users/Dell/Desktop/divinity-scarfs/node_modules/%40barba/core/src/defs/hooks.ts","file:///C:/Users/Dell/Desktop/divinity-scarfs/node_modules/node_modules/path-to-regexp/dist.es2015/index.js","file:///C:/Users/Dell/Desktop/divinity-scarfs/node_modules/%40barba/core/src/schemas/attribute.ts","file:///C:/Users/Dell/Desktop/divinity-scarfs/node_modules/%40barba/core/src/utils/dom.ts","file:///C:/Users/Dell/Desktop/divinity-scarfs/node_modules/%40barba/core/src/utils/history.ts","file:///C:/Users/Dell/Desktop/divinity-scarfs/node_modules/%40barba/core/src/utils/helpers.ts","file:///C:/Users/Dell/Desktop/divinity-scarfs/node_modules/%40barba/core/src/utils/url.ts","file:///C:/Users/Dell/Desktop/divinity-scarfs/node_modules/%40barba/core/src/utils/request.ts","file:///C:/Users/Dell/Desktop/divinity-scarfs/node_modules/node_modules/is-promise/index.mjs","file:///C:/Users/Dell/Desktop/divinity-scarfs/node_modules/%40barba/core/src/utils/run-async.ts","file:///C:/Users/Dell/Desktop/divinity-scarfs/node_modules/%40barba/core/src/hooks.ts","file:///C:/Users/Dell/Desktop/divinity-scarfs/node_modules/%40barba/core/src/modules/Ignore.ts","file:///C:/Users/Dell/Desktop/divinity-scarfs/node_modules/%40barba/core/src/modules/Cache.ts","file:///C:/Users/Dell/Desktop/divinity-scarfs/node_modules/%40barba/core/src/modules/Headers.ts","file:///C:/Users/Dell/Desktop/divinity-scarfs/node_modules/%40barba/core/src/modules/Prevent.ts","file:///C:/Users/Dell/Desktop/divinity-scarfs/node_modules/%40barba/core/src/modules/Error.ts","file:///C:/Users/Dell/Desktop/divinity-scarfs/node_modules/%40barba/core/src/modules/Store.ts","file:///C:/Users/Dell/Desktop/divinity-scarfs/node_modules/%40barba/core/src/modules/Transitions.ts","file:///C:/Users/Dell/Desktop/divinity-scarfs/node_modules/%40barba/core/src/modules/Views.ts","file:///C:/Users/Dell/Desktop/divinity-scarfs/node_modules/%40barba/core/src/polyfills/index.ts","file:///C:/Users/Dell/Desktop/divinity-scarfs/node_modules/%40barba/core/src/schemas/page.ts","file:///C:/Users/Dell/Desktop/divinity-scarfs/node_modules/%40barba/core/src/core.ts"],"sourcesContent":["/**\n * @barba/core/modules/Logger\n * <br><br>\n * ## Logger.\n *\n * - Display informations via the console\n *\n * @module core/modules/Logger\n * @preferred\n */\n\n/***/\n\n/**\n * Log levels, all lower level messages are printed\n *\n * 0. mute\n * 1. error = `console.error()`\n * 2. warning= `console.warn()`\n * 3. info = `console.info()`\n * 4. debug = `console.log()`\n */\nexport enum LogLevels {\n  off = 0,\n  error = 1,\n  warning = 2,\n  info = 3,\n  debug = 4,\n}\n\n/**\n * Global log level\n */\nlet _level: number = LogLevels.off;\n\nexport class Logger {\n  /**\n   * Get global log level.\n   */\n  public static getLevel(): number {\n    return _level;\n  }\n\n  /**\n   * Set global log level.\n   */\n  public static setLevel(name: keyof typeof LogLevels): number {\n    _level = LogLevels[name];\n\n    return _level;\n  }\n\n  /**\n   * Log \"prefix\".\n   */\n  private _source: string;\n\n  /**\n   * Creates an instance of Logger.\n   */\n  constructor(source: string) {\n    this._source = source;\n  }\n\n  /**\n   * Permanent, unremovable log.\n   */\n  // public print(...objects: any[]): void {\n  //   this._log(console.info, LogLevels.off, objects);\n  // }\n\n  /**\n   * Error log.\n   */\n  public error(...objects: any[]): void {\n    this._log(console.error, LogLevels.error, objects);\n  }\n\n  /**\n   * Warn log.\n   */\n  public warn(...objects: any[]): void {\n    this._log(console.warn, LogLevels.warning, objects);\n  }\n\n  /**\n   * Info log.\n   */\n  public info(...objects: any[]): void {\n    this._log(console.info, LogLevels.info, objects);\n  }\n\n  /**\n   * Debug log.\n   */\n  public debug(...objects: any[]): void {\n    this._log(console.log, LogLevels.debug, objects);\n  }\n\n  /**\n   * Internal logger.\n   */\n  private _log(fn: () => void, level: number, objects: any[]): void {\n    if (level <= Logger.getLevel()) {\n      fn.apply(console, ([`[${this._source}] `].concat(objects) as unknown) as [\n\n      ]);\n    }\n  }\n}\n","/**\n * @module typings/core\n */\nimport { ITransitionData, ITransitionPage, IViewData } from './index';\n\nexport type HooksBarba =\n  | 'ready'\n  | 'page'\n  | 'reset'\n  | 'currentAdded'\n  | 'currentRemoved'\n  | 'nextAdded'\n  | 'nextRemoved';\n\nexport type HooksOnce = 'beforeOnce' | 'once' | 'afterOnce';\n\nexport type HooksPage =\n  | 'before'\n  | 'beforeLeave'\n  | 'leave'\n  | 'afterLeave'\n  | 'beforeEnter'\n  | 'enter'\n  | 'afterEnter'\n  | 'after';\n\nexport type HooksBefore = 'beforeOnce' | 'beforeLeave' | 'beforeEnter';\nexport type HooksAfter = 'afterOnce' | 'afterLeave' | 'afterEnter';\n\nexport type HooksTransition = HooksOnce | HooksPage;\nexport type HooksView = HooksBefore | HooksAfter;\nexport type HooksAll = HooksBarba | HooksTransition;\n\n// Allow optional \"dynamically created\" hooks\nexport type HooksTransitionMap = { [key in HooksTransition]?: any };\n\nexport type HookFunction = (\n  data?: ITransitionData | IViewData,\n  t?: ITransitionPage\n) => Promise<void> | void;\n\nexport class HookMethods {\n  public before: (fn: HookFunction, ctx?: any) => void;\n  public beforeLeave: (fn: HookFunction, ctx?: any) => void;\n  public leave: (fn: HookFunction, ctx?: any) => void;\n  public afterLeave: (fn: HookFunction, ctx?: any) => void;\n  public beforeEnter: (fn: HookFunction, ctx?: any) => void;\n  public enter: (fn: HookFunction, ctx?: any) => void;\n  public afterEnter: (fn: HookFunction, ctx?: any) => void;\n  public after: (fn: HookFunction, ctx?: any) => void;\n}\n","/**\n * Tokenize input string.\n */\nfunction lexer(str) {\n    var tokens = [];\n    var i = 0;\n    while (i < str.length) {\n        var char = str[i];\n        if (char === \"*\" || char === \"+\" || char === \"?\") {\n            tokens.push({ type: \"MODIFIER\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \"\\\\\") {\n            tokens.push({ type: \"ESCAPED_CHAR\", index: i++, value: str[i++] });\n            continue;\n        }\n        if (char === \"{\") {\n            tokens.push({ type: \"OPEN\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \"}\") {\n            tokens.push({ type: \"CLOSE\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \":\") {\n            var name = \"\";\n            var j = i + 1;\n            while (j < str.length) {\n                var code = str.charCodeAt(j);\n                if (\n                // `0-9`\n                (code >= 48 && code <= 57) ||\n                    // `A-Z`\n                    (code >= 65 && code <= 90) ||\n                    // `a-z`\n                    (code >= 97 && code <= 122) ||\n                    // `_`\n                    code === 95) {\n                    name += str[j++];\n                    continue;\n                }\n                break;\n            }\n            if (!name)\n                throw new TypeError(\"Missing parameter name at \".concat(i));\n            tokens.push({ type: \"NAME\", index: i, value: name });\n            i = j;\n            continue;\n        }\n        if (char === \"(\") {\n            var count = 1;\n            var pattern = \"\";\n            var j = i + 1;\n            if (str[j] === \"?\") {\n                throw new TypeError(\"Pattern cannot start with \\\"?\\\" at \".concat(j));\n            }\n            while (j < str.length) {\n                if (str[j] === \"\\\\\") {\n                    pattern += str[j++] + str[j++];\n                    continue;\n                }\n                if (str[j] === \")\") {\n                    count--;\n                    if (count === 0) {\n                        j++;\n                        break;\n                    }\n                }\n                else if (str[j] === \"(\") {\n                    count++;\n                    if (str[j + 1] !== \"?\") {\n                        throw new TypeError(\"Capturing groups are not allowed at \".concat(j));\n                    }\n                }\n                pattern += str[j++];\n            }\n            if (count)\n                throw new TypeError(\"Unbalanced pattern at \".concat(i));\n            if (!pattern)\n                throw new TypeError(\"Missing pattern at \".concat(i));\n            tokens.push({ type: \"PATTERN\", index: i, value: pattern });\n            i = j;\n            continue;\n        }\n        tokens.push({ type: \"CHAR\", index: i, value: str[i++] });\n    }\n    tokens.push({ type: \"END\", index: i, value: \"\" });\n    return tokens;\n}\n/**\n * Parse a string for the raw tokens.\n */\nexport function parse(str, options) {\n    if (options === void 0) { options = {}; }\n    var tokens = lexer(str);\n    var _a = options.prefixes, prefixes = _a === void 0 ? \"./\" : _a;\n    var defaultPattern = \"[^\".concat(escapeString(options.delimiter || \"/#?\"), \"]+?\");\n    var result = [];\n    var key = 0;\n    var i = 0;\n    var path = \"\";\n    var tryConsume = function (type) {\n        if (i < tokens.length && tokens[i].type === type)\n            return tokens[i++].value;\n    };\n    var mustConsume = function (type) {\n        var value = tryConsume(type);\n        if (value !== undefined)\n            return value;\n        var _a = tokens[i], nextType = _a.type, index = _a.index;\n        throw new TypeError(\"Unexpected \".concat(nextType, \" at \").concat(index, \", expected \").concat(type));\n    };\n    var consumeText = function () {\n        var result = \"\";\n        var value;\n        while ((value = tryConsume(\"CHAR\") || tryConsume(\"ESCAPED_CHAR\"))) {\n            result += value;\n        }\n        return result;\n    };\n    while (i < tokens.length) {\n        var char = tryConsume(\"CHAR\");\n        var name = tryConsume(\"NAME\");\n        var pattern = tryConsume(\"PATTERN\");\n        if (name || pattern) {\n            var prefix = char || \"\";\n            if (prefixes.indexOf(prefix) === -1) {\n                path += prefix;\n                prefix = \"\";\n            }\n            if (path) {\n                result.push(path);\n                path = \"\";\n            }\n            result.push({\n                name: name || key++,\n                prefix: prefix,\n                suffix: \"\",\n                pattern: pattern || defaultPattern,\n                modifier: tryConsume(\"MODIFIER\") || \"\",\n            });\n            continue;\n        }\n        var value = char || tryConsume(\"ESCAPED_CHAR\");\n        if (value) {\n            path += value;\n            continue;\n        }\n        if (path) {\n            result.push(path);\n            path = \"\";\n        }\n        var open = tryConsume(\"OPEN\");\n        if (open) {\n            var prefix = consumeText();\n            var name_1 = tryConsume(\"NAME\") || \"\";\n            var pattern_1 = tryConsume(\"PATTERN\") || \"\";\n            var suffix = consumeText();\n            mustConsume(\"CLOSE\");\n            result.push({\n                name: name_1 || (pattern_1 ? key++ : \"\"),\n                pattern: name_1 && !pattern_1 ? defaultPattern : pattern_1,\n                prefix: prefix,\n                suffix: suffix,\n                modifier: tryConsume(\"MODIFIER\") || \"\",\n            });\n            continue;\n        }\n        mustConsume(\"END\");\n    }\n    return result;\n}\n/**\n * Compile a string to a template function for the path.\n */\nexport function compile(str, options) {\n    return tokensToFunction(parse(str, options), options);\n}\n/**\n * Expose a method for transforming tokens into the path function.\n */\nexport function tokensToFunction(tokens, options) {\n    if (options === void 0) { options = {}; }\n    var reFlags = flags(options);\n    var _a = options.encode, encode = _a === void 0 ? function (x) { return x; } : _a, _b = options.validate, validate = _b === void 0 ? true : _b;\n    // Compile all the tokens into regexps.\n    var matches = tokens.map(function (token) {\n        if (typeof token === \"object\") {\n            return new RegExp(\"^(?:\".concat(token.pattern, \")$\"), reFlags);\n        }\n    });\n    return function (data) {\n        var path = \"\";\n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            if (typeof token === \"string\") {\n                path += token;\n                continue;\n            }\n            var value = data ? data[token.name] : undefined;\n            var optional = token.modifier === \"?\" || token.modifier === \"*\";\n            var repeat = token.modifier === \"*\" || token.modifier === \"+\";\n            if (Array.isArray(value)) {\n                if (!repeat) {\n                    throw new TypeError(\"Expected \\\"\".concat(token.name, \"\\\" to not repeat, but got an array\"));\n                }\n                if (value.length === 0) {\n                    if (optional)\n                        continue;\n                    throw new TypeError(\"Expected \\\"\".concat(token.name, \"\\\" to not be empty\"));\n                }\n                for (var j = 0; j < value.length; j++) {\n                    var segment = encode(value[j], token);\n                    if (validate && !matches[i].test(segment)) {\n                        throw new TypeError(\"Expected all \\\"\".concat(token.name, \"\\\" to match \\\"\").concat(token.pattern, \"\\\", but got \\\"\").concat(segment, \"\\\"\"));\n                    }\n                    path += token.prefix + segment + token.suffix;\n                }\n                continue;\n            }\n            if (typeof value === \"string\" || typeof value === \"number\") {\n                var segment = encode(String(value), token);\n                if (validate && !matches[i].test(segment)) {\n                    throw new TypeError(\"Expected \\\"\".concat(token.name, \"\\\" to match \\\"\").concat(token.pattern, \"\\\", but got \\\"\").concat(segment, \"\\\"\"));\n                }\n                path += token.prefix + segment + token.suffix;\n                continue;\n            }\n            if (optional)\n                continue;\n            var typeOfMessage = repeat ? \"an array\" : \"a string\";\n            throw new TypeError(\"Expected \\\"\".concat(token.name, \"\\\" to be \").concat(typeOfMessage));\n        }\n        return path;\n    };\n}\n/**\n * Create path match function from `path-to-regexp` spec.\n */\nexport function match(str, options) {\n    var keys = [];\n    var re = pathToRegexp(str, keys, options);\n    return regexpToFunction(re, keys, options);\n}\n/**\n * Create a path match function from `path-to-regexp` output.\n */\nexport function regexpToFunction(re, keys, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.decode, decode = _a === void 0 ? function (x) { return x; } : _a;\n    return function (pathname) {\n        var m = re.exec(pathname);\n        if (!m)\n            return false;\n        var path = m[0], index = m.index;\n        var params = Object.create(null);\n        var _loop_1 = function (i) {\n            if (m[i] === undefined)\n                return \"continue\";\n            var key = keys[i - 1];\n            if (key.modifier === \"*\" || key.modifier === \"+\") {\n                params[key.name] = m[i].split(key.prefix + key.suffix).map(function (value) {\n                    return decode(value, key);\n                });\n            }\n            else {\n                params[key.name] = decode(m[i], key);\n            }\n        };\n        for (var i = 1; i < m.length; i++) {\n            _loop_1(i);\n        }\n        return { path: path, index: index, params: params };\n    };\n}\n/**\n * Escape a regular expression string.\n */\nfunction escapeString(str) {\n    return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, \"\\\\$1\");\n}\n/**\n * Get the flags for a regexp from the options.\n */\nfunction flags(options) {\n    return options && options.sensitive ? \"\" : \"i\";\n}\n/**\n * Pull out keys from a regexp.\n */\nfunction regexpToRegexp(path, keys) {\n    if (!keys)\n        return path;\n    var groupsRegex = /\\((?:\\?<(.*?)>)?(?!\\?)/g;\n    var index = 0;\n    var execResult = groupsRegex.exec(path.source);\n    while (execResult) {\n        keys.push({\n            // Use parenthesized substring match if available, index otherwise\n            name: execResult[1] || index++,\n            prefix: \"\",\n            suffix: \"\",\n            modifier: \"\",\n            pattern: \"\",\n        });\n        execResult = groupsRegex.exec(path.source);\n    }\n    return path;\n}\n/**\n * Transform an array into a regexp.\n */\nfunction arrayToRegexp(paths, keys, options) {\n    var parts = paths.map(function (path) { return pathToRegexp(path, keys, options).source; });\n    return new RegExp(\"(?:\".concat(parts.join(\"|\"), \")\"), flags(options));\n}\n/**\n * Create a path regexp from string input.\n */\nfunction stringToRegexp(path, keys, options) {\n    return tokensToRegexp(parse(path, options), keys, options);\n}\n/**\n * Expose a function for taking tokens and returning a RegExp.\n */\nexport function tokensToRegexp(tokens, keys, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.strict, strict = _a === void 0 ? false : _a, _b = options.start, start = _b === void 0 ? true : _b, _c = options.end, end = _c === void 0 ? true : _c, _d = options.encode, encode = _d === void 0 ? function (x) { return x; } : _d, _e = options.delimiter, delimiter = _e === void 0 ? \"/#?\" : _e, _f = options.endsWith, endsWith = _f === void 0 ? \"\" : _f;\n    var endsWithRe = \"[\".concat(escapeString(endsWith), \"]|$\");\n    var delimiterRe = \"[\".concat(escapeString(delimiter), \"]\");\n    var route = start ? \"^\" : \"\";\n    // Iterate over the tokens and create our regexp string.\n    for (var _i = 0, tokens_1 = tokens; _i < tokens_1.length; _i++) {\n        var token = tokens_1[_i];\n        if (typeof token === \"string\") {\n            route += escapeString(encode(token));\n        }\n        else {\n            var prefix = escapeString(encode(token.prefix));\n            var suffix = escapeString(encode(token.suffix));\n            if (token.pattern) {\n                if (keys)\n                    keys.push(token);\n                if (prefix || suffix) {\n                    if (token.modifier === \"+\" || token.modifier === \"*\") {\n                        var mod = token.modifier === \"*\" ? \"?\" : \"\";\n                        route += \"(?:\".concat(prefix, \"((?:\").concat(token.pattern, \")(?:\").concat(suffix).concat(prefix, \"(?:\").concat(token.pattern, \"))*)\").concat(suffix, \")\").concat(mod);\n                    }\n                    else {\n                        route += \"(?:\".concat(prefix, \"(\").concat(token.pattern, \")\").concat(suffix, \")\").concat(token.modifier);\n                    }\n                }\n                else {\n                    if (token.modifier === \"+\" || token.modifier === \"*\") {\n                        route += \"((?:\".concat(token.pattern, \")\").concat(token.modifier, \")\");\n                    }\n                    else {\n                        route += \"(\".concat(token.pattern, \")\").concat(token.modifier);\n                    }\n                }\n            }\n            else {\n                route += \"(?:\".concat(prefix).concat(suffix, \")\").concat(token.modifier);\n            }\n        }\n    }\n    if (end) {\n        if (!strict)\n            route += \"\".concat(delimiterRe, \"?\");\n        route += !options.endsWith ? \"$\" : \"(?=\".concat(endsWithRe, \")\");\n    }\n    else {\n        var endToken = tokens[tokens.length - 1];\n        var isEndDelimited = typeof endToken === \"string\"\n            ? delimiterRe.indexOf(endToken[endToken.length - 1]) > -1\n            : endToken === undefined;\n        if (!strict) {\n            route += \"(?:\".concat(delimiterRe, \"(?=\").concat(endsWithRe, \"))?\");\n        }\n        if (!isEndDelimited) {\n            route += \"(?=\".concat(delimiterRe, \"|\").concat(endsWithRe, \")\");\n        }\n    }\n    return new RegExp(route, flags(options));\n}\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n */\nexport function pathToRegexp(path, keys, options) {\n    if (path instanceof RegExp)\n        return regexpToRegexp(path, keys);\n    if (Array.isArray(path))\n        return arrayToRegexp(path, keys, options);\n    return stringToRegexp(path, keys, options);\n}\n//# sourceMappingURL=index.js.map","/**\n * @barba/core/schemas\n * <br><br>\n * ## Schemas description.\n *\n * @module core/schemas\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport { ISchemaAttribute } from '../defs';\n\n/**\n * See [[ISchemaAttribute]]\n */\nexport const schemaAttribute: ISchemaAttribute = {\n  container: 'container',\n  history: 'history',\n  namespace: 'namespace',\n  prefix: 'data-barba',\n  prevent: 'prevent',\n  wrapper: 'wrapper',\n};\n","/**\n * @barba/core/utils/dom\n * <br><br>\n * ## Dom utils\n *\n * - Access DOM contents\n * - DOM vs string conversions\n *\n * @module core/utils/dom\n * @preferred\n */\n\n/***/\n\nimport path from 'path';\n\n// Definitions\nimport { IDomSibling, ISchemaAttribute, Link, Scope, Wrapper } from '../defs';\n// Schemas\nimport { schemaAttribute } from '../schemas/attribute';\n\nexport class Dom {\n  private _attr: ISchemaAttribute = schemaAttribute;\n  private _parser: DOMParser;\n  private _sibling: IDomSibling = {\n    after: null,\n    before: null,\n    parent: null\n  };\n\n  /**\n   * Convert HTMLDocument to string.\n   */\n  public toString(el: HTMLElement): string {\n    return el.outerHTML;\n  }\n\n  /**\n   * Parse HTML string to HTMLDocument.\n   */\n  // see https://github.com/barbajs/barba/issues/362\n  // Seems that using DOMParser.parseFromString causes this issue.\n  public toDocument(htmlString: string): HTMLDocument {\n    /* istanbul ignore else */\n    if (!this._parser) {\n      this._parser = new DOMParser();\n    }\n    return this._parser.parseFromString(htmlString, 'text/html');\n  }\n\n  /**\n   * Parse HTML string to DIVElement.\n   *\n   * DOMParser.parseFromString fails with img[srcset] on iOS.\n   * see https://github.com/barbajs/barba/issues/362\n   */\n  public toElement(htmlString: string): HTMLDivElement {\n    const div = document.createElement('div');\n\n    div.innerHTML = htmlString;\n    return div;\n  }\n\n  /**\n   * Get HTML content.\n   */\n  public getHtml(doc: HTMLDocument = document): string {\n    return this.toString(doc.documentElement);\n  }\n\n  /**\n   * Get full document content.\n   */\n  // getDocument(el = document.documentElement) {\n  //   return this.toStr(el);\n  // },\n\n  /**\n   * Get `[data-barba=\"wrapper\"]`.\n   */\n  public getWrapper(scope: Scope = document): Wrapper {\n    return scope.querySelector(\n      `[${this._attr.prefix}=\"${this._attr.wrapper}\"]`\n    );\n  }\n\n  /**\n   * Get `[data-barba=\"container\"]`.\n   */\n  public getContainer(scope: Scope = document): HTMLElement | null {\n    return scope.querySelector(\n      `[${this._attr.prefix}=\"${this._attr.container}\"]`\n    );\n  }\n\n  /**\n   * Remove container and store next sibling (if applicable).\n   */\n  public removeContainer(container: HTMLElement) {\n    if (document.body.contains(container)) {\n      this._updateSibling(container);\n      container.parentNode.removeChild(container);\n    }\n  }\n\n  /**\n   * Add container near previous container\n   */\n  public addContainer(container: HTMLElement, wrapper: HTMLElement) {\n    const siblingBefore = this.getContainer() || this._sibling.before;\n\n    if (siblingBefore) {\n      this._insertAfter(container, siblingBefore);\n    } else if (this._sibling.after) {\n      this._sibling.after.parentNode.insertBefore(container, this._sibling.after);\n    } else if (this._sibling.parent) {\n      this._sibling.parent.appendChild(container);\n    } else {\n      wrapper.appendChild(container);\n    }\n  }\n\n  /**\n   * Get current dom sibling\n   */\n  public getSibling(): IDomSibling {\n    return this._sibling;\n  }\n\n  /**\n   * Get `[data-barba-namespace]`.\n   */\n  public getNamespace(scope: Scope = document): string | null {\n    const ns = scope.querySelector(\n      `[${this._attr.prefix}-${this._attr.namespace}]`\n    );\n\n    return ns\n      ? ns.getAttribute(`${this._attr.prefix}-${this._attr.namespace}`)\n      : null;\n  }\n\n  /**\n   * Get URL from `href` value.\n   */\n  public getHref(el: Link): string | null {\n    // HTML tagName is UPPERCASE, xhtml tagName keeps existing case.\n    if (el.tagName && el.tagName.toLowerCase() === 'a') {\n      // HTMLAnchorElement, full URL available\n      if (typeof el.href === 'string') {\n        return el.href;\n      }\n\n      // Probably a SVGAElement\n      const href = el.getAttribute('href') || el.getAttribute('xlink:href');\n\n      /* istanbul ignore else */\n      if (href) {\n        // When link comes from SVG, `href` returns an object, not a string.\n        const attr: string =\n          ((href as unknown) as SVGAnimatedString).baseVal || href;\n\n        return this.resolveUrl(attr);\n      }\n    }\n    return null;\n  }\n\n  // Copyright 2014 Simon Lydell\n  // X11 (MIT) Licensed. (See LICENSE\n  // https://github.com/lydell/resolve-url/blob/master/resolve-url.js\n  /* istanbul ignore next */\n  public resolveUrl(...urls: string[]) {\n    const numUrls = urls.length;\n\n    if (numUrls === 0) {\n      throw new Error('resolveUrl requires at least one argument; got none.');\n    }\n\n    const base = document.createElement('base');\n    base.href = arguments[0];\n\n    if (numUrls === 1) {\n      return base.href;\n    }\n\n    const head = document.getElementsByTagName('head')[0];\n    head.insertBefore(base, head.firstChild);\n\n    const a = document.createElement('a');\n    let resolved;\n\n    for (let index = 1; index < numUrls; index++) {\n      a.href = arguments[index];\n      resolved = a.href;\n      base.href = resolved;\n    }\n\n    head.removeChild(base);\n\n    return resolved;\n  }\n\n  /**\n   * Insert node after another node.\n   */\n  private _insertAfter(newNode: Node, referenceNode: Node) {\n    referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\n  }\n\n  /**\n   * Update current dom sibling regarding container\n   */\n  private _updateSibling(container: HTMLElement): IDomSibling {\n    this._sibling = {\n      after: container.nextElementSibling,\n      before: container.previousElementSibling,\n      parent: container.parentElement\n    };\n\n    return this._sibling;\n  }\n}\n\nconst dom = new Dom();\n\nexport { dom };\n","import { HistoryAction, LinkEvent, Trigger } from '../defs';\n// Schemas\nimport { schemaAttribute } from '../schemas/attribute';\n\n/**\n * @barba/core/utils/history\n * <br><br>\n * ## History manager.\n *\n * - Keep track of the navigation history\n *\n * @module core/utils/history\n * @preferred\n */\n\n/**\n * State item.\n *\n * @property from\n * @property index\n */\ninterface IHistoryItem {\n  /** origin */\n  from: string;\n  /** index */\n  index: number;\n  /** states */\n  states: IStateItem[];\n}\n\n/***/\ninterface ICoords {\n  x: number;\n  y: number;\n}\n\n/**\n * History item.\n *\n * @property namespace\n * @property scroll\n * @property URL\n */\ninterface IStateItem {\n  /** data */\n  data: object;\n  /** namespace */\n  ns: string | undefined;\n  /** Scroll position */\n  scroll: ICoords;\n  /** URL */\n  url: string;\n}\n\nexport class History {\n  private _session: string;\n  private _states: IStateItem[] = [];\n  private _pointer = -1;\n\n  /**\n   * Init with first state.\n   */\n  public init(url: string, ns: string): void {\n    this._session = 'barba';\n\n    const state: IStateItem = {\n      data: {},\n      ns,\n      scroll: {\n        x: window.scrollX,\n        y: window.scrollY,\n      },\n      url,\n    };\n\n    this._pointer = 0;\n    this._states.push(state);\n\n    const item: IHistoryItem = {\n      from: this._session,\n      index: this._pointer,\n      states: [...this._states],\n    };\n\n    window.history && window.history.replaceState(item, '', url);\n  }\n\n  public change(\n    url: string,\n    trigger: Trigger,\n    e?: LinkEvent | PopStateEvent\n  ): Trigger {\n    if (e && (e as PopStateEvent).state) {\n      // If popstate, move to existing state\n      // and get back/forward direction.\n      const { state }: { state: IHistoryItem } = e as PopStateEvent;\n      const { index } = state;\n      const diff = this._pointer - index;\n\n      trigger = this._getDirection(diff);\n\n      // Work with previous states\n      this.replace(state.states);\n      this._pointer = index;\n    } else {\n      // Add new state\n      this.add(url, trigger);\n    }\n\n    return trigger;\n  }\n\n  /**\n   * Add a new state.\n   */\n  public add(url: string, trigger: Trigger, action?: HistoryAction, data?: object): void {\n    // If no state, it will be updated later.\n    const ns = 'tmp';\n    const method = action ?? this._getAction(trigger);\n    const state: IStateItem = {\n      data: data ?? {},\n      ns,\n      scroll: {\n        x: window.scrollX,\n        y: window.scrollY,\n      },\n      url,\n    };\n\n    switch (method) {\n      case 'push':\n        this._pointer = this.size;\n        this._states.push(state);\n        break;\n      case 'replace':\n        this.set(this._pointer, state);\n        break;\n      /* istanbul ignore next */\n      default:\n    }\n\n    const item: IHistoryItem = {\n      from: this._session,\n      index: this._pointer,\n      states: [...this._states],\n    };\n\n    switch (method) {\n      case 'push':\n        window.history && window.history.pushState(item, '', url);\n        break;\n      case 'replace':\n        window.history && window.history.replaceState(item, '', url);\n        break;\n      /* istanbul ignore next */\n      default:\n    }\n  }\n\n  /**\n   * Store custom user data per state.\n   */\n   public store(data: object, i?: number): void {\n     const index = i || this._pointer;\n     const state = this.get(index);\n\n     // merge data (allow data overwrite)\n     state.data = {\n       ...state.data,\n       ...data\n     };\n\n     // update states\n     this.set(index, state);\n\n     const item: IHistoryItem = {\n       from: this._session,\n       index: this._pointer,\n       states: [...this._states],\n     };\n\n     // update browser history\n     window.history.replaceState(item, '');\n   }\n\n  /**\n   * Update state.\n   */\n  public update(data: any, i?: number): void {\n    const index = i || this._pointer;\n    const existing = this.get(index);\n    const state: IStateItem = {\n      ...existing,\n      ...data,\n    };\n\n    this.set(index, state);\n  }\n\n  /**\n   * Remove last state.\n   */\n  public remove(i?: number): void {\n    if (i) {\n      this._states.splice(i, 1);\n    } else {\n      this._states.pop();\n    }\n\n    this._pointer--;\n  }\n\n  /**\n   * Delete all states.\n   */\n  public clear(): void {\n    this._states = [];\n    this._pointer = -1;\n  }\n\n  /**\n   * Replace all states.\n   */\n  public replace(newStates: IStateItem[]): void {\n    this._states = newStates;\n  }\n\n  /**\n   * Get state by index.\n   */\n  public get(index: number): IStateItem {\n    return this._states[index];\n  }\n\n  /**\n   * Set state by index.\n   */\n  public set(i: number, state: IStateItem) {\n    return (this._states[i] = state);\n  }\n\n  /**\n   * Get the current state.\n   */\n  get current(): IStateItem {\n    return this._states[this._pointer];\n  }\n\n  /**\n   * Get the previous state.\n   */\n  get previous(): IStateItem | null {\n    return this._pointer < 1 ? null : this._states[this._pointer - 1];\n  }\n\n  /**\n   * Get the state size.\n   */\n  get size(): number {\n    return this._states.length;\n  }\n\n  /**\n   * Get the history action: push vs replace\n   */\n  private _getAction(trigger: Trigger): HistoryAction {\n    let action: HistoryAction = 'push';\n\n    // Manage `data-barba-history` attribute\n    // to get the right action (push vs replace).\n    const el = trigger as HTMLAnchorElement;\n    const attr = `${schemaAttribute.prefix}-${schemaAttribute.history}`;\n\n    if (el.hasAttribute && el.hasAttribute(attr)) {\n      action = el.getAttribute(attr) as HistoryAction;\n    }\n\n    return action;\n  }\n\n  /**\n   * Get the direction of popstate change\n   */\n  private _getDirection(diff: number): Trigger {\n    // Check if \"session switch\"\n    if (Math.abs(diff) > 1) {\n      // Ex 6-0 > 0 -> forward, 0-6 < 0 -> back\n      return diff > 0 ? 'forward' : 'back';\n    } else {\n      if (diff === 0) {\n        return 'popstate';\n      } else {\n        // Ex 6-5 > 0 -> back, 5-6 < 0 -> forward\n        return diff > 0 ? 'back' : 'forward';\n      }\n    }\n  }\n}\n\nconst history = new History();\n\nexport { history };\n","/**\n * @barba/core/utils/helpers\n * <br><br>\n * ## Helpers\n *\n * - Update next page data\n *\n * @module core/utils/helpers\n * @preferred\n */\n\n/***/\n\n// Third-party\nimport { pathToRegexp as ptr } from 'path-to-regexp';\n// Definitions\nimport { IResponse, ITransitionData } from '../defs';\n// Utils\nimport { dom } from './dom';\nimport { history } from './history';\n\n/**\n * Update `data.next`, the title and the history\n */\nexport const update = async (\n  page: Promise<IResponse | void>,\n  data: ITransitionData\n): Promise<void> => {\n  // If not already updated\n  if (!data.next.html) {\n    const response = await page;\n    const { next } = data;\n\n    if (response) {\n      // see: https://github.com/barbajs/barba/issues/362\n      // const nextDocument = dom.toDocument(html);\n      const nextDocument = dom.toElement(response.html);\n\n      next.namespace = dom.getNamespace(nextDocument);\n      next.container = dom.getContainer(nextDocument);\n      // see https://github.com/barbajs/barba/issues/362\n      // next.html = dom.getHtml(nextDocument);\n      // next.html = nextDocument.innerHTML;\n      next.url = response.url;\n      next.html = response.html;\n\n      // Update history namespace (not available when initially set)\n      history.update({ ns: next.namespace });\n\n      // Update title.\n      const { title } = dom.toDocument(response.html);\n\n      document.title = title;\n    }\n  }\n};\n\n/**\n * Next tick\n */\nexport const nextTick = () =>\n  new Promise(resolve => {\n    window.requestAnimationFrame(resolve);\n    // DEV: same result?\n    // setTimeout(resolve, 0);\n  });\n\n/**\n * Turn a route string such as `/user/:name` into a regular expression.\n *\n * Used for:\n *\n * - routes to ignore\n * - route transition resolution\n *\n * @see https://www.npmjs.com/package/path-to-regexp\n */\nconst pathToRegexp = ptr;\n\nexport { pathToRegexp };\n","/**\n * @barba/core/utils/url\n * <br><br>\n * ## URL utils.\n *\n * - Collect and structure informations from URLs\n *\n * @module core/utils/url\n */\n\n/***/\n\n// Definitions\nimport { IGenericObject, IUrlBase } from '../defs';\n\n/**\n * Get location href.\n */\nexport const getHref = () => window.location.href;\n\n/**\n * Get absolute href from URL.\n */\nexport const getAbsoluteHref = (url: string, base: string = document.baseURI): string => new URL(url, base).href;\n\n/**\n * Get location origin.\n */\nexport const getOrigin = () => window.location.origin;\n\n/**\n * Get port based on URL or location.\n */\nexport const getPort = (url: string = window.location.href) => parse(url).port;\n\n/**\n * Get path from URL.\n */\nexport const getPath = (url: string = window.location.href) => parse(url).path;\n\n/**\n * Get query object from URL.\n */\nexport const getQuery = (url: string, stringify: boolean = false): IGenericObject|string => {\n  return stringify ? JSON.stringify(parse(url).query) : parse(url).query;\n};\n\n/**\n * Get hash from URL.\n */\nexport const getHash = (url: string): string => parse(url).hash;\n\n/**\n * Parse URL for path, query and hash and more.\n */\nexport const parse = (url: string): IUrlBase => {\n  // Port\n  let port;\n  const matches = url.match(/:\\d+/);\n\n  if (matches === null) {\n    if (/^http/.test(url)) {\n      port = 80;\n    }\n\n    if (/^https/.test(url)) {\n      port = 443;\n    }\n  } else {\n    const portString = matches[0].substring(1);\n\n    port = parseInt(portString, 10);\n  }\n\n  // Path\n  let path = url.replace(getOrigin(), '');\n  let hash;\n  let query = {};\n\n  // Hash\n  const hashIndex = path.indexOf('#');\n\n  if (hashIndex >= 0) {\n    hash = path.slice(hashIndex + 1);\n    path = path.slice(0, hashIndex);\n  }\n\n  // Query\n  const queryIndex = path.indexOf('?');\n\n  if (queryIndex >= 0) {\n    query = parseQuery(path.slice(queryIndex + 1));\n    path = path.slice(0, queryIndex);\n  }\n\n  return {\n    hash,\n    path,\n    port,\n    query,\n  };\n};\n\n/**\n * Parse a query string to object.\n */\nexport const parseQuery = (str: string) =>\n  str.split('&').reduce((acc: IGenericObject, el: string) => {\n    const [key, value] = el.split('=');\n\n    acc[key] = value;\n\n    return acc;\n  }, {});\n\n/**\n * Clean URL, remove \"hash\" and/or \"trailing slash\".\n */\nexport const clean = (url: string = window.location.href) =>\n  url.replace(/(\\/#.*|\\/|#.*)$/, '');\n","/**\n * @barba/core/utils/request\n * <br><br>\n * ## Fetch pages for transitions.\n *\n * - Includes timeout\n * - Uses Fetch API\n * - Handles errors\n *\n * @module core/utils/request\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport { Cache } from '@barba/core/src/modules/Cache';\nimport { Headers } from '@barba/core/src/modules/Headers';\nimport { IResponse, RequestError } from '../defs';\nimport { parse } from './url';\n\n/**\n * Init a page request.\n * Fetch the page and returns a promise with the text content.\n */\nfunction request(\n  url: string,\n  ttl: number = 2e3,\n  requestError: RequestError,\n  cache: Cache,\n  headers: Headers\n): Promise<IResponse> {\n  return new Promise((resolve, reject) => {\n    const xhr = new XMLHttpRequest();\n\n    xhr.onreadystatechange = () => {\n      if (xhr.readyState === XMLHttpRequest.DONE) {\n        if (xhr.status === 200) {\n          /* istanbul ignore next: bypass jest since xhr-mock doesn't support custom xhr.responseURL */\n          const responseURL = xhr.responseURL !== '' && xhr.responseURL !== url ? xhr.responseURL : url;\n\n          resolve({\n            html: xhr.responseText,\n            url: {\n              href: responseURL,\n              ...parse(responseURL)\n            },\n          });\n\n          cache.update(url, {\n            status: 'fulfilled',\n            target: responseURL\n          });\n        } else if (xhr.status) {\n          // HTTP code is not 200, reject with response.\n          const response = {\n            status: xhr.status,\n            statusText: xhr.statusText,\n          };\n\n          requestError(url, response);\n          reject(response);\n\n          cache.update(url, { status: 'rejected' });\n        }\n      }\n    };\n\n    xhr.ontimeout = () => {\n      const error = new Error(`Timeout error [${ttl}]`);\n      requestError(url, error);\n      reject(error);\n      cache.update(url, { status: 'rejected' });\n    };\n\n    xhr.onerror = () => {\n      const error = new Error(`Fetch error`);\n      requestError(url, error);\n      reject(error);\n      cache.update(url, { status: 'rejected' });\n    };\n\n    xhr.open('GET', url);\n    xhr.timeout = ttl;\n    xhr.setRequestHeader(\n      'Accept',\n      'text/html,application/xhtml+xml,application/xml'\n    );\n    xhr.setRequestHeader('x-barba', 'yes');\n\n    headers.all().forEach((value, key) => {\n      xhr.setRequestHeader(key, value);\n    });\n\n    xhr.send();\n  });\n}\n\nexport { request };\n","export default function isPromise(obj) {\n  return !!obj && (typeof obj === 'object' || typeof obj === 'function') && typeof obj.then === 'function';\n}\n","import isPromise from 'is-promise';\n\n// https://github.com/SBoudrias/run-async\n/* istanbul ignore next */\nexport function runAsync(\n  func: (...args: any[]) => void | Promise<any>,\n  ctx: any = {}\n): (...args: any[]) => Promise<any> {\n  return (...args: any[]) => {\n    let async = false;\n\n    const promise = new Promise((resolve, reject) => {\n      // Add async to context\n      ctx.async = () => {\n        async = true;\n\n        return (err: any, value: any) => {\n          if (err) {\n            reject(err);\n          } else {\n            resolve(value);\n          }\n        };\n      };\n\n      const answer = func.apply(ctx, args as []);\n\n      if (!async) {\n        if (isPromise(answer)) {\n          (answer as Promise<any>).then(resolve, reject);\n        } else {\n          resolve(answer);\n        }\n      }\n    });\n\n    return promise;\n  };\n}\n","/**\n * @barba/core/modules/hooks\n * <br><br>\n * ## Hooks manager.\n *\n * - Register and trigger hooks\n *\n * Hooks can be easily registered:\n *\n * ```js\n * hooks.leave(callback, context);\n * ```\n *\n * @module core/modules/hooks\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport { HookFunction, HookMethods, HooksAll } from './defs';\n// Modules\nimport { Logger } from './modules/Logger';\n// Utils\nimport { runAsync } from './utils';\n// Types\ninterface IHookInfos {\n  ctx: any;\n  fn: HookFunction;\n}\n\nexport class Hooks extends HookMethods {\n  /**\n   * Allow the use of `hooks[name](cb, ctx)`.\n   */\n  [key: string]: any;\n  // [key in HooksAll]?: any;\n  public logger: Logger = new Logger('@barba/core');\n  /**\n   * All available hooks.\n   *\n   * See [[HooksAll]]\n   */\n  // TODO: get hooks from defs (DRY)?\n  public all: HooksAll[] = [\n    'ready',\n    'page',\n    'reset',\n    'currentAdded',\n    'currentRemoved',\n    'nextAdded',\n    'nextRemoved',\n    'beforeOnce',\n    'once',\n    'afterOnce',\n    'before',\n    'beforeLeave',\n    'leave',\n    'afterLeave',\n    'beforeEnter',\n    'enter',\n    'afterEnter',\n    'after',\n  ];\n  /**\n   * Registered hooks.\n   *\n   * - Unique hook name\n   * - Associated data set(s) (callback + context)\n   */\n  public registered: Map<HooksAll, Set<IHookInfos>> = new Map();\n\n  constructor() {\n    super();\n    this.init();\n  }\n\n  public init() {\n    this.registered.clear();\n    this.all.forEach(hook => {\n      if (!this[hook]) {\n        this[hook] = (fn: HookFunction, ctx?: any) => {\n          if (!this.registered.has(hook)) {\n            this.registered.set(hook, new Set());\n          }\n          const set = this.registered.get(hook);\n\n          set.add({\n            ctx: ctx || {},\n            fn,\n          });\n        };\n      }\n    });\n  }\n\n  /**\n   * Do hook.\n   *\n   * Trigger registered hooks.\n   */\n  public do(name: HooksAll, ...args: any): Promise<any> {\n    if (this.registered.has(name)) {\n      // Let's start a chain of promises\n      let chain = Promise.resolve();\n\n      this.registered.get(name).forEach(hook => {\n        // Chain async hooks promisified\n        chain = chain.then(() => runAsync(hook.fn, hook.ctx)(...args));\n      });\n\n      return chain.catch(error => {\n        this.logger.debug(`Hook error [${name}]`);\n        this.logger.error(error);\n      });\n    }\n\n    return Promise.resolve();\n  }\n\n  public clear(): void {\n    this.all.forEach(hook => {\n      delete this[hook];\n    });\n\n    this.init();\n  }\n\n  /**\n   * Help, print available and registered hooks.\n   */\n  public help(): void {\n    this.logger.info(`Available hooks: ${this.all.join(',')}`);\n    const registered: string[] = [];\n    this.registered.forEach((_value: any, key: string) => registered.push(key));\n    this.logger.info(`Registered hooks: ${registered.join(',')}`);\n  }\n}\n\nconst hooks = new Hooks();\n\nexport { hooks };\n","/**\n * @barba/core/modules/ignore\n * <br><br>\n * ## Manage ignore options.\n *\n * - cache\n * - prefetch\n *\n * @module core/modules/ignore\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport { IgnoreOption } from '../defs';\n// Utils\nimport { pathToRegexp } from '../utils/helpers';\nimport { parse } from '../utils/url';\n\nexport class Ignore {\n  private _ignoreAll: boolean;\n  private _ignoreRegexes: RegExp[] = [];\n\n  constructor(ignore: IgnoreOption) {\n    if (typeof ignore === 'boolean') {\n      this._ignoreAll = ignore;\n    } else {\n      const paths = Array.isArray(ignore) ? ignore : [ignore];\n\n      this._ignoreRegexes = paths.map(p => pathToRegexp(p));\n    }\n  }\n\n  public checkHref(href: string): boolean {\n    if (typeof this._ignoreAll === 'boolean') {\n      return this._ignoreAll;\n    }\n\n    const { path } = parse(href);\n\n    return this._ignoreRegexes.some(regex => regex.exec(path) !== null);\n  }\n}\n","/**\n * @barba/core/modules/cache\n * <br><br>\n * ## Cache for storing URL / HTML.\n *\n * @module core/modules/cache\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport { CacheAction, CacheRequest, CacheStatus, CacheTarget, ICacheData, IgnoreOption } from '../defs';\n// Modules\nimport { Ignore } from './Ignore';\n\nexport class Cache extends Ignore {\n  private _state: Map<string, ICacheData> = new Map();\n\n  constructor(ignore: IgnoreOption) {\n    super(ignore);\n  }\n\n  /**\n   * Set value to cache\n   */\n  public set(\n    href: string,\n    request: CacheRequest,\n    action: CacheAction,\n    status: CacheStatus,\n    target?: CacheTarget,\n  ): ICacheData {\n    this._state.set(href, {\n      action,\n      request,\n      status,\n      target: target ?? href,\n    });\n\n    return {\n      action,\n      request,\n      status,\n      target,\n    };\n  }\n\n  /**\n   * Get data from cache\n   */\n  public get(href: string): ICacheData {\n    return this._state.get(href);\n  }\n\n  /**\n   * Get request from cache\n   */\n  public getRequest(href: string): CacheRequest {\n    return this._state.get(href).request;\n  }\n\n  /**\n   * Get action from cache\n   */\n  public getAction(href: string): CacheAction {\n    return this._state.get(href).action;\n  }\n\n  /**\n   * Get status from cache\n   */\n  public getStatus(href: string): CacheStatus {\n    return this._state.get(href).status;\n  }\n\n  /**\n   * Get target from cache\n   */\n  public getTarget(href: string): CacheTarget {\n    return this._state.get(href).target;\n  }\n\n  /**\n   * Check if value exists into cache\n   */\n  public has(href: string): boolean {\n    /* istanbul ignore else */\n    if (this.checkHref(href)) {\n      return false;\n    }\n    return this._state.has(href);\n  }\n\n  /**\n   * Delete value from cache\n   */\n  public delete(href: string): boolean {\n    return this._state.delete(href);\n  }\n\n  /**\n   * Update cache value\n   */\n  public update(href: string, data: ICacheData): ICacheData {\n    const state = {\n      ...this._state.get(href),\n      ...data,\n    };\n    this._state.set(href, state);\n\n    return state;\n  }\n}\n","/**\n * @barba/core/modules/headers\n * <br><br>\n * ## Manage request Headers.\n *\n * @module core/modules/headers\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport { HeaderList, IHeaderData } from '../defs';\n\nexport class Headers {\n  private _list: HeaderList = new Map();\n\n  /**\n   * Set a new header\n   */\n  public set(name: string, value: string): IHeaderData {\n    this._list.set(name, value);\n\n    return {\n      name: value\n    };\n  }\n\n  /**\n   * Get a specific header\n   */\n  public get(name: string): string {\n    return this._list.get(name);\n  }\n\n  /**\n   * Get all headers\n   */\n  public all(): HeaderList {\n    return this._list;\n  }\n\n  /**\n   * Check if header exists\n   */\n  public has(name: string): boolean {\n    return this._list.has(name);\n  }\n\n  /**\n   * Delete a header\n   */\n  public delete(name: string): boolean {\n    return this._list.delete(name);\n  }\n\n  /**\n   * Clear all headers\n   */\n  public clear(): void {\n    return this._list.clear();\n  }\n}\n","/**\n * @barba/core/modules/prevent\n * <br><br>\n * ## Prevent checks.\n *\n * - Gathers all the tests that allow Barba to work and play transitions\n *\n * @module core/modules/prevent\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport { IgnoreOption, Link, PreventCheck } from '../defs';\n// Schemas\nimport { schemaAttribute } from '../schemas/attribute';\n// Utils\nimport { url } from '../utils';\n// Modules\nimport { Ignore } from './Ignore';\n\n/**\n * Make sure the browser supports `history.pushState`.\n */\nconst pushState: PreventCheck = () => !window.history.pushState;\n\n/**\n * Make sure there is an `el` and `href`.\n */\nconst exists: PreventCheck = ({ el, href }) => !el || !href;\n\n/**\n * If the user is pressing ctrl + click, the browser will open a new tab.\n */\nconst newTab: PreventCheck = ({ event }) =>\n  (event as KeyboardEvent).which > 1 ||\n  (event as KeyboardEvent).metaKey ||\n  (event as KeyboardEvent).ctrlKey ||\n  (event as KeyboardEvent).shiftKey ||\n  (event as KeyboardEvent).altKey;\n\n/**\n * If the link has `_blank` target.\n */\nconst blank: PreventCheck = ({ el }) =>\n  el.hasAttribute('target') && (el as Link).target === '_blank';\n\n/**\n * If the domain is the same (in order to avoid pushState cross origin security problem).\n * Note: SVGAElement do not have `protocol` neither `hostname` properties.\n */\nconst corsDomain: PreventCheck = ({ el }) =>\n  ((el as HTMLAnchorElement).protocol !== undefined &&\n    window.location.protocol !== (el as HTMLAnchorElement).protocol) ||\n  ((el as HTMLAnchorElement).hostname !== undefined &&\n    window.location.hostname !== (el as HTMLAnchorElement).hostname);\n\n/**\n * If the port is the same.\n * Note: SVGAElement do not have `port` property.\n */\nconst corsPort: PreventCheck = ({ el }) =>\n  (el as HTMLAnchorElement).port !== undefined &&\n  url.getPort() !== url.getPort((el as HTMLAnchorElement).href);\n\n/**\n * If the link has download attribute.\n */\nconst download: PreventCheck = ({ el }) =>\n  el.getAttribute && typeof el.getAttribute('download') === 'string';\n\n/**\n * If the links contains [data-barba-prevent] or [data-barba-prevent=\"self\"].\n */\nconst preventSelf: PreventCheck = ({ el }) =>\n  el.hasAttribute(`${schemaAttribute.prefix}-${schemaAttribute.prevent}`);\n\n/**\n * If some link ancestor contains [data-barba-prevent=\"all\"].\n */\nconst preventAll: PreventCheck = ({ el }) =>\n  Boolean(\n    el.closest(`[${schemaAttribute.prefix}-${schemaAttribute.prevent}=\"all\"]`)\n  );\n\n/**\n * If the link is the current URL.\n *\n * > Not in the test suite.\n */\nconst sameUrl: PreventCheck = ({ href }) =>\n  url.clean(href) === url.clean() && url.getPort(href) === url.getPort();\n\nexport class Prevent extends Ignore {\n  public suite: string[] = [];\n  public tests: Map<string, PreventCheck> = new Map();\n\n  constructor(ignore: IgnoreOption) {\n    super(ignore);\n    this.init();\n  }\n\n  public init(): void {\n    // Add defaults\n    this.add('pushState', pushState);\n    this.add('exists', exists);\n    this.add('newTab', newTab);\n    this.add('blank', blank);\n    this.add('corsDomain', corsDomain);\n    this.add('corsPort', corsPort);\n    this.add('download', download);\n    this.add('preventSelf', preventSelf);\n    this.add('preventAll', preventAll);\n\n    // Outside of the test suite\n    this.add('sameUrl', sameUrl, false);\n  }\n\n  public add(name: string, check: PreventCheck, suite: boolean = true): void {\n    this.tests.set(name, check);\n    suite && this.suite.push(name);\n  }\n\n  /**\n   * Run individual test\n   */\n  public run(name: string, el: Link, event: Event, href: string): boolean {\n    return this.tests.get(name)({\n      el,\n      event,\n      href,\n    });\n  }\n\n  /**\n   * Run test suite\n   */\n  public checkLink(el: Link, event: Event, href: string): boolean {\n    return this.suite.some(name => this.run(name, el, event, href));\n  }\n}\n","// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error\nexport class BarbaError extends Error {\n  /* istanbul ignore next */\n  constructor(\n    public error: Error,\n    public label = 'Barba error',\n    ...params: any[]\n  ) {\n    // Pass remaining arguments (including vendor specific ones) to parent constructor\n    super(...params);\n\n    // Maintains proper stack trace for where our error was thrown (only available on V8)\n    /* istanbul ignore else */\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, BarbaError);\n    }\n\n    this.name = 'BarbaError';\n  }\n}\n","/**\n * @barba/core/modules/store\n * <br><br>\n * ## Transitions store.\n *\n * - Resolve transition\n * - Manage rules\n *\n * @module core/modules/store\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport {\n  IRule,\n  IRules,\n  ITransitionData,\n  ITransitionFilters,\n  ITransitionOnce,\n  ITransitionPage,\n  RuleName,\n} from '../defs';\n\n// Modules\nimport { Logger } from './Logger';\n\nexport class Store {\n  public logger: Logger = new Logger('@barba/core');\n  /**\n   * All registered transitions.\n   */\n  public all: ITransitionPage[] = [];\n  /**\n   * \"Page only\" registered transitions.\n   */\n  public page: ITransitionPage[] = [];\n  /**\n   * \"Once only\" registered transitions.\n   */\n  public once: ITransitionOnce[] = [];\n  /**\n   * Rules for transition resolution.\n   *\n   * Defaults:\n   *\n   * - namespace\n   * - custom\n   */\n  private _rules: IRule[] = [\n    {\n      name: 'namespace',\n      type: 'strings',\n    },\n    {\n      name: 'custom',\n      type: 'function',\n    },\n  ];\n\n  /**\n   * Init store.\n   */\n  constructor(transitions: ITransitionPage[] = []) {\n    /* istanbul ignore else */\n    if (transitions) {\n      // TODO: add check for valid transitions? criteria? (once || enter && leave)\n      this.all = this.all.concat(transitions);\n    }\n    this.update();\n  }\n\n  /**\n   * Add rule or transition.\n   */\n  public add(type: 'rule' | 'transition', data: any): void {\n    switch (type) {\n      case 'rule':\n        // TODO: check for valid rule\n        this._rules.splice(data.position || 0, 0, data.value);\n        break;\n      case 'transition':\n      default:\n        // TODO: check for valid transition\n        this.all.push(data);\n        break;\n    }\n\n    this.update();\n  }\n\n  /**\n   * Resolve transition.\n   */\n  public resolve(\n    data: ITransitionData,\n    filters: ITransitionFilters = {}\n  ): ITransitionOnce | ITransitionPage {\n    // Filter on \"once\"\n    let transitions = filters.once ? this.once : this.page;\n\n    // Filter on \"self\"\n    if (filters.self) {\n      transitions = transitions.filter(t => t.name && t.name === 'self');\n    } else {\n      transitions = transitions.filter(t => !t.name || t.name !== 'self');\n    }\n\n    // All matching transition infos\n    const matching = new Map();\n\n    // Active = first of valid transitions\n    // sorted by directions (from/to, from || to, )\n    const active = transitions.find(t => {\n      let valid = true;\n      const match = {};\n\n      if (filters.self && t.name === 'self') {\n        matching.set(t, match);\n        return true;\n      }\n\n      // Check rules\n      this._rules.reverse().forEach(rule => {\n        if (valid) {\n          valid = this._check(t, rule, data, match);\n          // From/to check\n          if (t.from && t.to) {\n            valid =\n              this._check(t, rule, data, match, 'from') &&\n              this._check(t, rule, data, match, 'to');\n          }\n          if (t.from && !t.to) {\n            valid = this._check(t, rule, data, match, 'from');\n          }\n          if (!t.from && t.to) {\n            valid = this._check(t, rule, data, match, 'to');\n          }\n        }\n      });\n\n      matching.set(t, match);\n\n      return valid;\n    });\n\n    const activeMatch = matching.get(active);\n    const transitionType = [];\n    if (filters.once) {\n      transitionType.push('once');\n    } else {\n      transitionType.push('page');\n    }\n    if (filters.self) {\n      transitionType.push('self');\n    }\n\n    if (activeMatch) {\n      // Log resolved transition\n      const infos: any[] = [active];\n      // Log if matching criteria\n      Object.keys(activeMatch).length > 0 && infos.push(activeMatch);\n\n      this.logger.info(\n        `Transition found [${transitionType.join(',')}]`,\n        ...infos\n      );\n    } else {\n      this.logger.info(`No transition found [${transitionType.join(',')}]`);\n    }\n\n    return active;\n  }\n\n  /**\n   * ### Update store.\n   *\n   * - Reorder transition by priorities\n   * - Get wait indicator\n   * - Get once transitions\n   */\n  public update(): void {\n    // Reorder by priorities\n    this.all = this.all\n      .map(t => this._addPriority(t))\n      .sort((a, b) => a.priority - b.priority)\n      .reverse()\n      .map(t => {\n        delete t.priority;\n\n        return t;\n      });\n    this.page = this.all.filter(\n      t => t.leave !== undefined || t.enter !== undefined\n    ) as ITransitionPage[];\n    this.once = this.all.filter(t => t.once !== undefined) as ITransitionOnce[];\n  }\n\n  /**\n   * ### Check if transition apply.\n   *\n   * Based on rule, page data and optional direction:\n   *\n   * 1. transition has no rule \"property\":\n   *    - always returns true\n   * 2. transition has rule \"property\":\n   *     - \"strings\" should be present on both side (transition + page) and match\n   *     - \"function\" should return true\n   */\n  private _check(\n    transition: ITransitionPage,\n    rule: IRule,\n    data: ITransitionData,\n    match: any,\n    direction?: 'from' | 'to'\n  ): boolean {\n    let isValid = true;\n    let hasMatch = false;\n    const t = transition;\n    const { name, type } = rule;\n    const strRule = name as IRules['strings'];\n    const objRule = name as IRules['object'];\n    const fnName = name as IRules['function'];\n    const base = direction ? t[direction] : t; // = t || t.from || t.to\n    const page = direction === 'to' ? data.next : data.current; // = current || next\n    const exist = direction ? base && base[name] : base[name];\n\n    // If transition rule exists\n    if (exist) {\n      switch (type) {\n        case 'strings':\n        default: {\n          // Array support\n          const names: string[] = Array.isArray(base[strRule])\n            ? (base[strRule] as string[])\n            : [base[strRule] as string];\n\n          // For matching, prop should be present on both sides and match\n          if (page[strRule] && names.indexOf(page[strRule]) !== -1) {\n            hasMatch = true;\n          }\n          // If transition prop is different from current, not valid\n          if (names.indexOf(page[strRule]) === -1) {\n            isValid = false;\n          }\n          break;\n        }\n\n        case 'object': {\n          // Array support\n          const names: string[] = Array.isArray(base[objRule])\n            ? (base[objRule] as string[])\n            : [base[objRule] as string];\n\n          // For matching, prop should be present on both sides and match\n          if (page[objRule]) {\n            if (\n              page[objRule].name &&\n              names.indexOf(page[objRule].name) !== -1\n            ) {\n              hasMatch = true;\n            }\n            // If transition prop is different from current, not valid\n            if (names.indexOf(page[objRule].name) === -1) {\n              isValid = false;\n            }\n          } else {\n            isValid = false;\n          }\n          break;\n        }\n\n        case 'function':\n          if (base[fnName](data)) {\n            hasMatch = true;\n          } else {\n            isValid = false;\n          }\n          break;\n      }\n\n      if (hasMatch) {\n        if (direction) {\n          match[direction] = match[direction] || {};\n          match[direction][name] = t[direction][name];\n        } else {\n          match[name] = t[name];\n        }\n      }\n    }\n\n    return isValid;\n  }\n\n  /**\n   * ### Calculate transition priority.\n   *\n   * Based on:\n   *\n   * - rule \"position\" (index) give tens, hundreds, thousands, \n   * - from/to properties give units (0, 1 or 2)\n   */\n  private _calculatePriority(\n    t: ITransitionPage,\n    ruleName: RuleName,\n    ruleIndex: number\n  ): number {\n    let priority = 0;\n\n    if (\n      t[ruleName] ||\n      (t.from && t.from[ruleName]) ||\n      (t.to && t.to[ruleName])\n    ) {\n      priority += Math.pow(10, ruleIndex);\n\n      if (t.from && t.from[ruleName]) {\n        priority += 1;\n      }\n      if (t.to && t.to[ruleName]) {\n        priority += 2;\n      }\n    }\n\n    return priority;\n  }\n\n  private _addPriority(t: ITransitionPage): ITransitionPage {\n    t.priority = 0;\n    let priority = 0;\n\n    this._rules.forEach((rule, i) => {\n      const { name } = rule;\n      const index = i + 1;\n\n      priority += this._calculatePriority(t, name, index);\n    });\n\n    t.priority = priority;\n\n    return t;\n  }\n}\n","/**\n * @barba/core/modules/transitions\n * <br><br>\n * ## Transitions manager.\n *\n * - Handle hooks and transition lifecycle\n *\n * @module core/modules/transitions\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport {\n  HooksTransition,\n  HooksTransitionMap,\n  IResponse,\n  ITransitionData,\n  ITransitionFilters,\n  ITransitionOnce,\n  ITransitionPage,\n  Wrapper,\n} from '../defs';\n// Hooks\nimport { hooks } from '../hooks';\n// Utils\nimport { dom, helpers, runAsync } from '../utils';\n// Modules\nimport { BarbaError } from './Error';\nimport { Logger } from './Logger';\nimport { Store } from './Store';\n\nexport class Transitions {\n  public logger: Logger = new Logger('@barba/core');\n  public store: Store;\n  private _running: boolean = false;\n\n  constructor(transitions: ITransitionPage[] = []) {\n    this.store = new Store(transitions);\n  }\n\n  /**\n   * Get resolved transition\n   *\n   * - based on data\n   */\n  public get(\n    data: ITransitionData,\n    filters?: ITransitionFilters\n  ): ITransitionOnce | ITransitionPage {\n    return this.store.resolve(data, filters);\n  }\n\n  /**\n   * Animation running status.\n   */\n  get isRunning(): boolean {\n    return this._running;\n  }\n  set isRunning(status: boolean) {\n    this._running = status;\n  }\n\n  /**\n   * Check for registered once transition(s).\n   */\n  get hasOnce(): boolean {\n    return this.store.once.length > 0;\n  }\n\n  /**\n   * Check for registered self transition.\n   */\n  get hasSelf(): boolean {\n    return this.store.all.some(t => t.name === 'self');\n  }\n\n  /**\n   * ### Wait indicator.\n   *\n   * Tells Barba to get next page data<br>\n   * before starting the resolution<br>\n   * because some registered transitions need<br>\n   * next page data to be resolved (eg: `sync: true`, `to: { namespace }`, )\n   */\n  get shouldWait(): boolean {\n    return this.store.all.some(t => (t.to && !t.to.route) || t.sync);\n  }\n\n  /**\n   * ### Do \"once\" transition.\n   *\n   * Hooks: see [[HooksOnce]].\n   */\n  public async doOnce({\n    data,\n    transition,\n  }: {\n    data: ITransitionData;\n    transition: ITransitionOnce;\n  }) {\n    const t = transition || {};\n    this._running = true;\n\n    try {\n      await this._doAsyncHook('beforeOnce', data, t);\n      await this.once(data, t);\n      await this._doAsyncHook('afterOnce', data, t);\n    } catch (error) {\n      this._running = false;\n\n      this.logger.debug('Transition error [before/after/once]');\n      this.logger.error(error);\n    }\n\n    this._running = false;\n  }\n\n  /**\n   * ### Do \"page\" transition.\n   *\n   * Hooks: see [[HooksPage]].\n   *\n   * `sync: false` (default) order:\n   *\n   * 1. before\n   * 2. beforeLeave\n   * 3. leave\n   * 4. afterLeave\n   * 5. beforeEnter\n   * 6. enter\n   * 7. afterEnter\n   * 8. after\n   *\n   * `sync: true` order:\n   *\n   * 1. before\n   * 2. beforeLeave\n   * 3. beforeEnter\n   * 4. leave & enter\n   * 5. afterLeave\n   * 6. afterEnter\n   * 7. after\n   */\n  public async doPage({\n    data,\n    transition,\n    page,\n    wrapper,\n  }: {\n    data: ITransitionData;\n    transition: ITransitionPage;\n    page: Promise<IResponse | void>;\n    wrapper: Wrapper;\n  }) {\n    const t = transition || {};\n    const sync = t.sync === true || false;\n\n    this._running = true;\n\n    try {\n      // Check sync mode, wait for next content\n      if (sync) {\n        await helpers.update(page, data);\n      }\n\n      await this._doAsyncHook('before', data, t);\n\n      if (sync) {\n        try {\n          await this.add(data, wrapper);\n          // Before actions\n          await this._doAsyncHook('beforeLeave', data, t);\n          await this._doAsyncHook('beforeEnter', data, t);\n\n          // Actions\n          await Promise.all([this.leave(data, t), this.enter(data, t)]);\n\n          // After actions\n          await this._doAsyncHook('afterLeave', data, t);\n          await this._doAsyncHook('afterEnter', data, t);\n        } catch (error) {\n          // this.logger.debug('Transition error [sync]');\n          // this.logger.error(error);\n          if (this._isTransitionError(error)) {\n            throw new BarbaError(\n              (error as Error),\n              'Transition error [sync]'\n            );\n          }\n        }\n      } else {\n        let leaveResult: any = false;\n\n        try {\n          // Leave\n          await this._doAsyncHook('beforeLeave', data, t);\n\n          leaveResult = await Promise.all([\n            this.leave(data, t),\n            helpers.update(page, data),\n          ]).then(values => values[0]);\n\n          await this._doAsyncHook('afterLeave', data, t);\n\n          // TODO: check here \"valid\" page result\n          // before going further\n        } catch (error) {\n          // this.logger.debug('Transition error [before/after/leave]');\n          // this.logger.error(error);\n          if (this._isTransitionError(error)) {\n            throw new BarbaError(\n              (error as Error),\n              'Transition error [before/after/leave]'\n            );\n          }\n        }\n\n        try {\n          // Enter\n          /* istanbul ignore else */\n          if (leaveResult !== false) {\n            await this.add(data, wrapper);\n\n            await this._doAsyncHook('beforeEnter', data, t);\n            await this.enter(data, t, leaveResult);\n            await this._doAsyncHook('afterEnter', data, t);\n          }\n        } catch (error) {\n          // this.logger.debug('Transition error [before/after/enter]');\n          // this.logger.error(error);\n          if (this._isTransitionError(error)) {\n            throw new BarbaError(\n              (error as Error),\n              'Transition error [before/after/enter]'\n            );\n          }\n        }\n      }\n\n      // Remove current container\n      await this.remove(data);\n\n      await this._doAsyncHook('after', data, t);\n    } catch (error: any) {\n      this._running = false;\n\n      // If \"custom/specific\" barba error.\n      /* istanbul ignore else */\n      if (error.name && error.name === 'BarbaError') {\n        this.logger.debug(error.label);\n        this.logger.error(error.error);\n\n        throw error;\n      }\n\n      this.logger.debug('Transition error [page]');\n      this.logger.error(error);\n\n      throw error;\n    }\n\n    this._running = false;\n  }\n\n  /**\n   * Once hook + async \"once\" transition.\n   */\n  public async once(data: ITransitionData, t: ITransitionOnce): Promise<void> {\n    await hooks.do('once', data, t);\n\n    return t.once ? runAsync(t.once, t)(data) : Promise.resolve();\n  }\n\n  /**\n   * Leave hook + async \"leave\" transition.\n   */\n  public async leave(data: ITransitionData, t: ITransitionPage): Promise<any> {\n    await hooks.do('leave', data, t);\n\n    return t.leave ? runAsync(t.leave, t)(data) : Promise.resolve();\n  }\n\n  /**\n   * Enter hook + async \"enter\" transition.\n   */\n  public async enter(\n    data: ITransitionData,\n    t: ITransitionPage,\n    leaveResult?: any\n  ): Promise<void> {\n    await hooks.do('enter', data, t);\n\n    return t.enter\n      ? runAsync(t.enter, t)(data, leaveResult)\n      : Promise.resolve();\n  }\n\n  /**\n   * Add next container.\n   */\n  public async add(data: ITransitionData, wrapper: Wrapper): Promise<void> {\n    dom.addContainer(data.next.container, wrapper);\n    hooks.do('nextAdded', data);\n  }\n\n  /**\n   * Remove current container.\n   */\n  public async remove(data: ITransitionData): Promise<void> {\n    dom.removeContainer(data.current.container);\n    hooks.do('currentRemoved', data);\n  }\n\n  private _isTransitionError(error: any) {\n    if (error.message) {\n      // Errors from request\n      return !/Timeout error|Fetch error/.test(error.message);\n    }\n\n    if (error.status) {\n      // Errors from request\n      return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Do hooks + async transition methods.\n   */\n  private async _doAsyncHook(\n    hook: HooksTransition,\n    data: ITransitionData,\n    t: HooksTransitionMap\n  ): Promise<void> {\n    await hooks.do(hook, data, t);\n\n    return t[hook] ? runAsync(t[hook], t)(data) : Promise.resolve();\n  }\n}\n","/**\n * @barba/core/modules/views\n * <br><br>\n * ## Views manager.\n *\n * @module core/modules/views\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport { HooksView, IView, IViewData } from '../defs';\n// Hooks\nimport { hooks } from '../hooks';\n// Utils\nimport { runAsync } from '../utils';\n// Types\ntype Hook = (data: IViewData) => Promise<void>;\n\nexport class Views {\n  /**\n   * Available hook names for views.\n   */\n  public names: HooksView[] = [\n    'beforeLeave',\n    'afterLeave',\n    'beforeEnter',\n    'afterEnter',\n  ];\n  /**\n   * Registered views by namespace.\n   */\n  public byNamespace: Map<string, IView> = new Map();\n\n  /**\n   * Init views.\n   */\n  constructor(views: IView[]) {\n    if (views.length === 0) {\n      return;\n    }\n\n    // TODO: add check\n    // for valid views? criteria? (namespace property, string ?)\n    // or duplicate\n    views.forEach(view => {\n      this.byNamespace.set(view.namespace, view);\n    });\n\n    this.names.forEach(name => {\n      hooks[name](this._createHook(name));\n    });\n  }\n\n  /**\n   * Create the hook method.\n   *\n   * - get view based on namespace\n   * - execute callback with transition data\n   */\n  private _createHook(name: HooksView): Hook {\n    return data => {\n      const { namespace } = name.match(/enter/i) ? data.next : data.current;\n      const view = this.byNamespace.get(namespace);\n\n      // TODO: manage self\n      // if (view && data.trigger !== 'self') {\n      if (view && view[name]) {\n        return runAsync(view[name], view)(data);\n      }\n\n      return Promise.resolve();\n    };\n  }\n}\n","// Element.prototype.matches polyfill\n// https://developer.mozilla.org/en-US/docs/Web/API/Element/matches#Polyfill\nif (!Element.prototype.matches) {\n  Element.prototype.matches =\n    (Element as any).prototype.msMatchesSelector ||\n    Element.prototype.webkitMatchesSelector;\n}\n\n// Element.prototype.closest polyfill\n// https://developer.mozilla.org/en-US/docs/Web/API/Element/closest#Polyfill\nif (!Element.prototype.closest) {\n  Element.prototype.closest = function closest(s: string) {\n    let el = this;\n\n    do {\n      if (el.matches(s)) {\n        return el;\n      }\n\n      el = (el.parentElement || el.parentNode) as Element;\n    } while (el !== null && el.nodeType === 1);\n\n    return null;\n  };\n}\n","/**\n * @module core/schemas\n */\n\n// Definitions\nimport { ISchemaPage } from '../defs';\n\n/**\n * See [[ISchemaPage]]\n */\nexport const schemaPage: ISchemaPage = {\n  container: null,\n  html: '',\n  namespace: '',\n  url: {\n    hash: '',\n    href: '',\n    path: '',\n    port: null,\n    query: {},\n  },\n};\n","/**\n * @barba/core\n * <br><br>\n * ## Barba core object\n *\n * Main methods:\n *\n * - `.init()` for initialization with options\n * - `.use()` for plugins\n *\n * @module core\n */\n\n/***/\n\nimport { version } from '../package.json';\n// Definitions\nimport {\n  IBarbaOptions,\n  IBarbaPlugin,\n  IgnoreOption,\n  ISchemaPage,\n  ITransitionData,\n  ITransitionOnce,\n  ITransitionPage,\n  Link,\n  LinkEvent,\n  RequestCustomError,\n  RequestErrorOrResponse,\n  SchemaAttributeValues,\n  Trigger,\n  Wrapper,\n} from './defs';\n// Hooks\nimport { hooks } from './hooks';\n// Modules\nimport { Cache } from './modules/Cache';\nimport { Headers } from './modules/Headers';\nimport { Logger } from './modules/Logger';\nimport { Prevent } from './modules/Prevent';\nimport { Transitions } from './modules/Transitions';\nimport { Views } from './modules/Views';\n// Polyfills\nimport './polyfills';\n// Schemas\nimport { schemaAttribute } from './schemas/attribute';\nimport { schemaPage } from './schemas/page';\n// Utils\nimport { dom, helpers, history, request, url } from './utils';\n\nexport class Core {\n  /**\n   * Version.\n   */\n  public version: string = version;\n  /**\n   * Schemas.\n   */\n  public schemaPage: ISchemaPage = schemaPage;\n  /**\n   * Logger class, allows plugins to create Logger.\n   */\n  public Logger: typeof Logger = Logger;\n  /**\n   * Barba logger.\n   */\n  public logger: Logger = new Logger('@barba/core');\n  /**\n   * Plugins.\n   */\n  public plugins: IBarbaPlugin<any>[] = [];\n  /**\n   * Options\n   */\n  public timeout: number;\n  public cacheIgnore: IgnoreOption;\n  public cacheFirstPage: boolean;\n  public prefetchIgnore: IgnoreOption;\n  public preventRunning: boolean;\n  /**\n   * Hooks\n   */\n  public hooks = hooks;\n  /**\n   * Modules.\n   */\n  // public history: History;\n  public cache: Cache;\n  public headers: Headers;\n  public prevent: Prevent;\n  public transitions: Transitions;\n  public views: Views;\n  /**\n   * Utils.\n   */\n  public dom = dom;\n  public helpers = helpers;\n  public history = history;\n  public request = request;\n  public url = url;\n\n  private _data: ITransitionData;\n  private _requestCustomError: RequestCustomError;\n  private _wrapper: Wrapper;\n  private _linkEvent: LinkEvent;\n\n  /**\n   * ### Init plugin with options.\n   *\n   * See [[IBarbaPlugin]] for more details.\n   */\n  public use<T>(plugin: IBarbaPlugin<T>, options?: T): void {\n    const installedPlugins = this.plugins;\n\n    // Plugin installation\n    if (installedPlugins.indexOf(plugin) > -1) {\n      this.logger.warn(`Plugin [${plugin.name}] already installed.`);\n\n      return;\n    }\n\n    if (typeof plugin.install !== 'function') {\n      this.logger.warn(`Plugin [${plugin.name}] has no \"install\" method.`);\n\n      return;\n    }\n\n    plugin.install(this, options);\n    installedPlugins.push(plugin);\n  }\n\n  /**\n   * ### Init barba with options.\n   *\n   * See [[IBarbaOptions]] for more details.\n   *\n   * Default values are:\n   *\n   * - transitions: `[]`\n   * - views: `[]`\n   * - schema: [[SchemaAttribute]]\n   * - timeout: `2e3`\n   * - cacheIgnore: `false`\n   * - cacheFirstPage: `false`\n   * - prefetchIgnore: `false`\n   * - preventRunning: `false`\n   * - prevent: `null`,\n   * - debug: `false`\n   * - logLevel: `'debug'`\n   */\n  public init(\n    /** @ignore */ {\n      transitions = [],\n      views = [],\n      schema = schemaAttribute,\n      requestError,\n      timeout = 2e3,\n      cacheIgnore = false,\n      cacheFirstPage = false,\n      prefetchIgnore = false,\n      /* istanbul ignore next */\n      preventRunning = false,\n      prevent: preventCustom = null,\n      debug = false,\n      logLevel = 'off',\n    }: IBarbaOptions = {}\n  ) {\n    // 0. Set logger level and print version\n    Logger.setLevel(debug === true ? 'debug' : logLevel);\n    this.logger.info(this.version);\n\n    // 1. Manage options\n    Object.keys(schema).forEach(k => {\n      const attr = k as SchemaAttributeValues;\n\n      /* istanbul ignore else */\n      if (schemaAttribute[attr]) {\n        schemaAttribute[attr] = schema[attr];\n      }\n    });\n    this._requestCustomError = requestError;\n    this.timeout = timeout;\n    this.cacheIgnore = cacheIgnore;\n    this.cacheFirstPage = cacheFirstPage;\n    this.prefetchIgnore = prefetchIgnore;\n    this.preventRunning = preventRunning;\n\n    // 2. Get and check wrapper\n    this._wrapper = this.dom.getWrapper();\n    if (!this._wrapper) {\n      throw new Error('[@barba/core] No Barba wrapper found');\n    }\n\n    // 3. Init pages (get \"current\" data)\n    this._resetData();\n\n    const { current } = this.data;\n\n    if (!current.container) {\n      throw new Error('[@barba/core] No Barba container found');\n    }\n\n    // 4. Init other modules\n    this.cache = new Cache(cacheIgnore);\n    this.headers = new Headers();\n    this.prevent = new Prevent(prefetchIgnore);\n    this.transitions = new Transitions(transitions);\n    this.views = new Views(views);\n\n    // Add prevent custom\n    if (preventCustom !== null) {\n      if (typeof preventCustom !== 'function') {\n        throw new Error('[@barba/core] Prevent should be a function');\n      }\n\n      this.prevent.add('preventCustom', preventCustom);\n    }\n\n    // 5. Init history\n    this.history.init(current.url.href, current.namespace);\n\n    // 6. Add to cache\n    if (cacheFirstPage) {\n      this.cache.set(current.url.href, Promise.resolve({\n        html: current.html,\n        url: current.url,\n      }), 'init', 'fulfilled');\n    }\n\n    // 7. Bind context\n    this._onLinkEnter = this._onLinkEnter.bind(this);\n    this._onLinkClick = this._onLinkClick.bind(this);\n    this._onStateChange = this._onStateChange.bind(this);\n    this._bind();\n\n    // 8. Init plugins\n    this.plugins.forEach(plugin => plugin.init());\n\n    // 9. Barba ready\n    // Set next + trigger for once and `beforeEnter`/`afterEnter` view on page load.\n    const onceData = this.data;\n\n    onceData.trigger = 'barba';\n    onceData.next = onceData.current;\n    onceData.current = { ...this.schemaPage };\n    this.hooks.do('ready', onceData);\n\n    // 9. Finally, do once\n    this.once(onceData);\n\n    // Clean data for first barba transition\n    this._resetData();\n  }\n\n  public destroy(): void {\n    this._resetData();\n    this._unbind();\n    this.history.clear();\n    this.hooks.clear();\n    this.plugins = [];\n  }\n\n  get data(): ITransitionData {\n    return this._data;\n  }\n\n  get wrapper(): HTMLElement {\n    return this._wrapper;\n  }\n\n  /**\n   * ### Force a page change without Barba transition.\n   */\n  public force(href: string): void {\n    // DEV\n    // Can be used waiting animation cancellation management\n    window.location.assign(href);\n  }\n\n  /**\n   * ### Go for a Barba transition.\n   *\n   * Manage \"self page\" href:\n   *\n   * - if same url and no self transition, keep default behavior\n   *   - link: reload the page\n   *   - anchor: scroll to\n   * - if same url with self transition, use it\n   * - then start a page transition.\n   */\n  public go(\n    href: string,\n    trigger: Trigger = 'barba',\n    e?: LinkEvent | PopStateEvent\n  ): Promise<void> {\n    this._linkEvent = null;\n\n    // If animation running, force reload\n    if (this.transitions.isRunning) {\n      this.force(href);\n\n      return;\n    }\n\n    let self = false;\n\n    // Check prevent sameURL against current history\n    // + state check\n    // + update trigger with direction\n    if (trigger === 'popstate') {\n      self =\n        this.history.current &&\n        this.url.getPath(this.history.current.url) === this.url.getPath(href) &&\n        this.url.getQuery(this.history.current.url, true) === this.url.getQuery(href, true);\n    } else {\n      self = this.prevent.run('sameUrl', null, null, href);\n    }\n\n    if (self && !this.transitions.hasSelf) {\n      return;\n    }\n\n    trigger = this.history.change(this.cache.has(href) ? this.cache.get(href).target : href, trigger, e);\n\n    if (e) {\n      e.stopPropagation();\n      e.preventDefault();\n    }\n\n    return this.page(href, trigger, e ?? undefined, self);\n  }\n\n  /**\n   * ### Start an \"once\" transition.\n   *\n   * If some registered \"once\" transition,\n   * get the \"resolved\" transition from the store and start it.\n   */\n  public async once(readyData: ITransitionData): Promise<void> {\n    await this.hooks.do('beforeEnter', readyData);\n\n    // Check if once transition\n    if (this.transitions.hasOnce) {\n      const transition = this.transitions.get(readyData, {\n        once: true,\n      }) as ITransitionOnce;\n\n      await this.transitions.doOnce({ transition, data: readyData });\n    }\n\n    await this.hooks.do('afterEnter', readyData);\n  }\n\n  /**\n   * ### Start a \"page\" transition.\n   *\n   * 1. If no running transition, updates data with full URL properties and trigger.\n   * 2. Get page from cache or init request.\n   * 3. Wait if some transitions need \"next\" data (`sync: true`, `to: `).\n   * 4. Manage the history, depending on trigger.\n   * 5. Get \"data\" and trigger \"go\" hook.\n   * 6. Get the \"resolved\" transition from the store and start it.\n   * 7. Update title and reset data (current, next = undefined).\n   *\n   * > If \"self\", use the \"self\" transition\n   */\n  public async page(\n    href: string,\n    trigger: Trigger,\n    event: LinkEvent | PopStateEvent,\n    self: boolean\n  ): Promise<void> {\n    this.data.next.url = {\n      href,\n      ...this.url.parse(href),\n    };\n    this.data.trigger = trigger;\n    this.data.event = event;\n\n    let page;\n\n    if (this.cache.has(href)) {\n      page = this.cache.update(href, { action: 'click' }).request;\n    } else {\n      const pageRequest = this.request(\n        href,\n        this.timeout,\n        this.onRequestError.bind(this, trigger),\n        this.cache,\n        this.headers\n      );\n\n      // manage 301 server response: replace history\n      pageRequest.then(response => {\n        /* istanbul ignore next: bypass jest since xhr-mock doesn't support custom xhr.responseURL */\n        if (response.url.href !== href) {\n          this.history.add(response.url.href, trigger, 'replace');\n        }\n      });\n\n      page = this.cache.set(href, pageRequest, 'click', 'pending').request;\n    }\n\n    // Need to wait before getting the right transition\n    if (this.transitions.shouldWait) {\n      await helpers.update(page, this.data);\n    }\n\n    const data = this.data;\n\n    // Hook: between trigger and transition\n    // Can be used to resolve \"route\"\n    await this.hooks.do('page', data);\n\n    try {\n      const transition = this.transitions.get(data, {\n        once: false,\n        self,\n      }) as ITransitionPage;\n\n      await this.transitions.doPage({\n        data,\n        page,\n        transition,\n        wrapper: this._wrapper,\n      });\n\n      this._resetData();\n    } catch (error) {\n      // Something went wrong (rejected promise, error, 404, 505, other)\n      // TODO: manage / use cases for cancellation\n      // this.logger.debug('Transition cancelled');\n\n      // If transition error and no debug mode, force reload page.\n      /* istanbul ignore else */\n      if (Logger.getLevel() === 0) {\n        this.force(data.next.url.href);\n      }\n    }\n  }\n\n  /**\n   * When a request error occurs.\n   *\n   * Allow the user to manage request error. (E.g: 404)\n   */\n  public onRequestError(trigger: Trigger, ...args: any): boolean {\n    // Cancel transition status\n    this.transitions.isRunning = false;\n\n    const [href, response]: [string, RequestErrorOrResponse] = args;\n    const action = this.cache.getAction(href);\n    this.cache.delete(href);\n\n    // Custom requestError returning false will return here.\n    if (\n      this._requestCustomError &&\n      this._requestCustomError(trigger, action, href, response) === false\n    ) {\n      return false;\n    }\n\n    // Force page change\n    if (action === 'click') {\n      this.force(href);\n    }\n    return false;\n  }\n\n  /**\n   * Programmatically prefetch\n   */\n  public prefetch(href: string) {\n\n    // only prefetch absolute href\n    href = this.url.getAbsoluteHref(href);\n\n    // Already in cache\n    /* istanbul ignore next */\n    if (this.cache.has(href)) {\n      return;\n    }\n\n    this.cache.set(\n      href,\n      this.request(\n        href,\n        this.timeout,\n        this.onRequestError.bind(this, 'barba'),\n        this.cache,\n        this.headers\n      ).catch((error: RequestErrorOrResponse) => {\n        this.logger.error(error);\n      }),\n      'prefetch',\n      'pending'\n    );\n  }\n\n  /**\n   * Bind event listeners.\n   */\n  private _bind(): void {\n    /* istanbul ignore else */\n    if (this.prefetchIgnore !== true) {\n      document.addEventListener('mouseover', this._onLinkEnter);\n      document.addEventListener('touchstart', this._onLinkEnter);\n    }\n    document.addEventListener('click', this._onLinkClick);\n    window.addEventListener('popstate', this._onStateChange);\n  }\n\n  /**\n   * Bind event listeners.\n   */\n  private _unbind(): void {\n    /* istanbul ignore else */\n    if (this.prefetchIgnore !== true) {\n      document.removeEventListener('mouseover', this._onLinkEnter);\n      document.removeEventListener('touchstart', this._onLinkEnter);\n    }\n    document.removeEventListener('click', this._onLinkClick);\n    window.removeEventListener('popstate', this._onStateChange);\n  }\n\n  /**\n   * When a element is entered.\n   *\n   * Get valid link element.\n   * Cache URL if needed.\n   */\n  private _onLinkEnter(e: LinkEvent): void {\n    const link = this._getLinkElement(e);\n\n    if (!link) {\n      return;\n    }\n\n    const href = this.url.getAbsoluteHref(this.dom.getHref(link));\n\n    if (this.prevent.checkHref(href)) {\n      return;\n    }\n\n    // Already in cache\n    if (this.cache.has(href)) {\n      return;\n    }\n\n    this.cache.set(\n      href,\n      this.request(\n        href,\n        this.timeout,\n        this.onRequestError.bind(this, link),\n        this.cache,\n        this.headers\n      ).catch((error: RequestErrorOrResponse) => {\n        this.logger.error(error);\n      }),\n      'enter',\n      'pending'\n    );\n  }\n\n  /**\n   * When an element is clicked.\n   *\n   * Get valid link element.\n   * Prevent same URL.\n   * Go for a Barba transition.\n   */\n  private _onLinkClick(e: LinkEvent): void {\n\n    // This use `prevent.checkLink` under the hood to get eligible link.\n    const link = this._getLinkElement(e);\n\n    if (!link) {\n      return;\n    }\n\n    if (this.transitions.isRunning && this.preventRunning) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      return;\n    }\n\n    this._linkEvent = e;\n\n    this.go(this.dom.getHref(link), link, e);\n  }\n\n  /**\n   * When History state changes.\n   *\n   * Get \"href\" from URL\n   * Go for a Barba transition.\n   */\n  private _onStateChange(e: PopStateEvent): void {\n    this.go(this.url.getHref(), 'popstate', e);\n  }\n\n  /**\n   * Get a valid link ancestor.\n   *\n   * Check for a \"href\" attribute.\n   * Then check if eligible for Barba.\n   */\n  private _getLinkElement(e: LinkEvent): Link {\n    let el = e.target as Link;\n\n    while (el && !this.dom.getHref(el)) {\n      el = (el as HTMLElement).parentNode as Link;\n    }\n\n    // Check prevent\n    if (!el || this.prevent.checkLink(el, e, this.dom.getHref(el))) {\n      return;\n    }\n\n    return el;\n  }\n\n  /**\n   * Reset pages data.\n   *\n   * Set \"current\" and unset \"next\".\n   */\n  private _resetData() {\n    const href = this.url.getHref();\n    const current = {\n      container: this.dom.getContainer(),\n      html: this.dom.getHtml(),\n      namespace: this.dom.getNamespace(),\n      url: {\n        href,\n        ...this.url.parse(href),\n      },\n    };\n\n    this._data = {\n      current,\n      event: undefined,\n      next: { ...this.schemaPage },\n      trigger: undefined,\n    };\n\n    this.hooks.do('reset', this.data);\n  }\n}\n\nconst core = new Core();\n\nexport default core;\n"],"names":["LogLevels","before","beforeLeave","leave","this","afterLeave","beforeEnter","enter","afterEnter","after","_level","off","Logger","source","_source","getLevel","setLevel","name","_proto","prototype","error","_log","console","slice","call","arguments","warn","warning","info","debug","log","fn","level","objects","apply","concat","escapeString","str","replace","flags","options","sensitive","schemaAttribute","container","history","namespace","prefix","prevent","wrapper","dom","_attr","_parser","_sibling","parent","toString","el","outerHTML","toDocument","htmlString","DOMParser","parseFromString","toElement","div","document","createElement","innerHTML","getHtml","doc","documentElement","getWrapper","scope","querySelector","getContainer","removeContainer","body","contains","_updateSibling","parentNode","removeChild","addContainer","siblingBefore","_insertAfter","insertBefore","appendChild","getSibling","getNamespace","ns","getAttribute","getHref","tagName","toLowerCase","href","resolveUrl","baseVal","numUrls","length","base","getElementsByTagName","head","firstChild","resolved","a","index","newNode","referenceNode","nextSibling","nextElementSibling","previousElementSibling","parentElement","Dom","History","_session","_states","_pointer","init","url","state","data","scroll","x","window","scrollX","y","scrollY","push","from","states","replaceState","item","change","trigger","e","_getDirection","add","action","method","_getAction","size","set","pushState","store","i","get","update","remove","splice","pop","clear","newStates","attr","hasAttribute","diff","Math","abs","_createClass","key","page","_temp","next","html","then","response","nextDocument","title","Promise","resolve","reject","pathToRegexp","path","keys","RegExp","groupsRegex","execResult","exec","suffix","modifier","pattern","regexpToRegexp","Array","isArray","paths","parts","map","join","arrayToRegexp","tokens","_a","strict","_b","start","_c","end","_d","encode","_e","delimiter","_f","endsWith","endsWithRe","delimiterRe","route","_i","tokens_1","token","mod","endToken","isEndDelimited","indexOf","undefined","tokensToRegexp","char","type","value","count","j","TypeError","code","charCodeAt","lexer","prefixes","defaultPattern","result","tryConsume","mustConsume","consumeText","name_1","pattern_1","parse","stringToRegexp","requestAnimationFrame","getOrigin","location","origin","getPort","port","matches","match","test","portString","substring","parseInt","hash","query","hashIndex","queryIndex","parseQuery","split","reduce","acc","clean","baseURI","stringify","JSON","ttl","requestError","cache","headers","XMLHttpRequest","xhr","onreadystatechange","readyState","DONE","status","responseURL","responseText","_extends","target","statusText","ontimeout","Error","onerror","open","timeout","setRequestHeader","all","forEach","send","isPromise","obj","runAsync","func","ctx","_arguments","async","err","answer","promise","hooks","_HookMethods","Hooks","_this","logger","registered","Map","_inheritsLoose","_this2","hook","has","Set","_this3","chain","_this4","help","_value","HookMethods","Ignore","ignore","_ignoreAll","_ignoreRegexes","p","checkHref","some","regex","Cache","_Ignore","_state","request","getRequest","getAction","getStatus","getTarget","Headers","_list","exists","newTab","event","which","metaKey","ctrlKey","shiftKey","altKey","blank","_ref3","corsDomain","protocol","hostname","corsPort","_ref5","download","_ref6","preventSelf","preventAll","Boolean","closest","sameUrl","url.clean","Prevent","suite","tests","check","run","checkLink","BarbaError","_Error","label","captureStackTrace","_wrapNativeSuper","Store","transitions","once","_rules","position","filters","filter","self","t","matching","active","find","valid","reverse","rule","_check","to","activeMatch","transitionType","_this$logger","infos","Object","_addPriority","sort","b","priority","transition","direction","isValid","hasMatch","objRule","fnName","current","names","strRule","_calculatePriority","ruleName","ruleIndex","pow","Transitions","_running","doOnce","_ref","_temp2","_catch","_doAsyncHook","doPage","_ref2","_temp11","_result5","sync","_temp9","_temp7","_result2","_isTransitionError","leaveResult","_temp3","_leaveResult","_temp4","helpers","values","_Promise$all$then","_temp5","_temp6","_temp8","_temp10","message","Views","views","byNamespace","view","_createHook","Element","msMatchesSelector","webkitMatchesSelector","s","nodeType","schemaPage","core","version","plugins","cacheIgnore","cacheFirstPage","prefetchIgnore","preventRunning","_data","_requestCustomError","_wrapper","_linkEvent","use","plugin","installedPlugins","install","_ref$transitions","_ref$views","_ref$schema","schema","_ref$timeout","_ref$cacheIgnore","_ref$cacheFirstPage","_ref$prefetchIgnore","_ref$preventRunning","_ref$prevent","preventCustom","_ref$debug","_ref$logLevel","logLevel","k","_resetData","_onLinkEnter","bind","_onLinkClick","_onStateChange","_bind","onceData","destroy","_unbind","force","assign","go","isRunning","getPath","getQuery","hasSelf","stopPropagation","preventDefault","readyData","hasOnce","pageRequest","onRequestError","shouldWait","_slice$call","prefetch","getAbsoluteHref","addEventListener","removeEventListener","link","_getLinkElement","Core"],"mappings":"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","debugId":null}}]
}